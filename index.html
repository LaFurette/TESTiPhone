<html lang="fr-fr">

<head>
    <noscript>
        <meta http-equiv="refresh" content="0;url=https://www.unevoyante.fr/index.php/Out">
    </noscript>
    <meta charset="utf-8">



    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0; ">
    <title>Site Voyance mobile</title>
    <meta name="description" content="">
    <link rel="shortcut icon" href="favicon.ico">










    <!-- <link rel="canonical" href=""/> -->

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css"
        type="text/css">

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css?v=1.0"
        integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Josefin+Sans|Righteous">

    <!-- <link rel="stylesheet" href="https://www.unevoyante.fr/assets/client/css/style_v1.css">
    <link rel="stylesheet" href="https://www.unevoyante.fr/assets/client/css/custom_v1.css">   -->
    <!-- style css menu -->
    <link rel="stylesheet" href="https://www.unevoyante.fr/assets/client/nouveau_style/css/style_v1.css">
    <link rel="stylesheet" href="https://www.unevoyante.fr/assets/client/nouveau_style/css/custom_v1.css">
    <!-- end style -->
    <!-- 				<link rel="stylesheet" href="">
            <link rel="stylesheet" href=""> 
     -->


    <link rel="stylesheet" href="https://www.unevoyante.fr/assets/upsell/css/style-modal-4.css">
    <link rel="stylesheet" href="https://www.unevoyante.fr/assets/client/popup_connect/css/custom_v1.css">
    <link rel="stylesheet" href="https://www.unevoyante.fr/assets/anime-icone/assets/client/css/custom_v1.css">
    <script async="" src="chrome-extension://kmhkepipobnjllejbafajoemahjejdcm/scripts/instana/eum.min.js"
        crossorigin="anonymous"></script>
    <script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script>
    <script type="text/javascript" async=""
        src="https://www.googletagmanager.com/gtag/js?id=G-GBNPCEKMXD&amp;l=dataLayer&amp;cx=c"></script>
    <script async="" src="https://www.googletagmanager.com/gtm.js?id=GTM-WT7CD4D"></script>
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>

    <!-- style modal saint valentin -->

    <!-- <link rel="stylesheet" href="https://www.unevoyante.fr/assets/client/modal_st_valentin/css/bootstrap.min.css" type="text/css" />-->


    <link rel="stylesheet" href="https://www.unevoyante.fr/assets/client/css/flags.css">


    <!-- fin style saint valentin -->


    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-140783888-1"></script>

    <!-- Global site tag (gtag.js) - Google Ads: 984833646 -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=AW-984833646"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'AW-984833646');
    </script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-140783888-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-140783888-1');
    </script>







    <!-- <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'UA-140783888-1');
            gtag('config', 'AW-984833646');
        </script>
         Event snippet for unevoyante-prospect conversion page 
        <script>
          gtag('event', 'conversion', {'send_to': 'AW-984833646/8-uoCJGTta4BEO68zdUD'});
        </script> -->



    <!-- scripts -->


    <!--[if lt IE 9]>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <style type="text/css">
        iframe {
            height: 40px !important;
        }

        .bubble1,
        .bubble2 {
            overflow: hidden;
        }

        .plain-text {
            font-size: 1.2em;
            color: #090f27;
        }

        .sub-title {
            font-weight: bold;
            font-size: 1.5em;
            color: #3a6a7f;
        }


        @media (max-width: 576px) {
            .back {
                width: 20px;
            }

            /*
            #content-msg-dial{
                width: 100%;
            }
            */
            .div-fail-login {
                width: 90%;
            }

        }

        @media (min-width: 576px) {

            .temps_a_rebours {
                display: none;
            }

            /*
            #content-msg-dial{
                width: 80%;
            }
            */

            .div-fail-login {
                width: 50%;
            }
        }

        @media only screen and (min-device-width : 414px) and (max-device-width : 736px) {
            .inputGroupDial {
                top: -10px;
            }
        }

        .text-error {
            color: red;
        }

        .flashy {
            font-family: Arial, sans-serif;
            padding: 11px 30px;
            border-radius: 4px;
            font-weight: 400;
            position: fixed;
            bottom: 12%;
            right: 20px;
            font-size: 16px;
            color: #fff;
            z-index: 9999999999999999999999999999999999999999999;
        }

        .flashy--success {
            background-color: #27a744;
            color: #fff;
        }

        .flashy--error {
            background-color: #d9534f;
            color: #fff;
        }

        .flashy .flashy__body {
            color: inherit;
        }



        /*style pour la couleur rouge du bouton indisponible*/
        .statut-red {
            color: #ef4d25;
        }

        .statut-red i {
            font-size: 14px;
        }


        /* -- Code pour la puce counter à ajouter dans CUSTOM.CSS --*/
        .label-count {
            position: absolute;
            top: 18px;
            right: 6px;
            padding: .25em .4em;
            font-size: 75%;
            font-weight: 700;
            line-height: 1;
            text-align: center;
            border-radius: 50%;
            background-color: #CC0000;
        }

        /* -- */

        #txt_is_writting {
            font-style: italic;
            color: #1cc88a;
            display: none;
        }

        .div-fail-login {
            border-radius: 5px;
            z-index: 999999;
        }
    </style>


    <script type="text/javascript">
        function compte_a_rebours(span, date_now, date_fin, jour_now, jour_fin, heure_fin) {

            var compte_a_rebours = document.getElementById(span);
            //alert(compte_a_rebours.innerHTML);

            var date_actuelle = new Date(date_now);

            var date_evenement = new Date(date_fin);

            var total_secondes = (date_evenement - date_actuelle) / 1000;


            var prefixe = "<font color='#ff9900'>PROMOTION jusqu'à</font> ";

            if (total_secondes < 0) {

                prefixe = "Compte à rebours terminé il y a "; // On modifie le préfixe si la différence est négatif

                total_secondes = Math.abs(total_secondes); // On ne garde que la valeur absolue

            }


            if (total_secondes > 0) {

                var jours = Math.floor(total_secondes / (60 * 60 * 24));

                var heures = Math.floor((total_secondes - (jours * 60 * 60 * 24)) / (60 * 60));

                minutes = Math.floor((total_secondes - ((jours * 60 * 60 * 24 + heures * 60 * 60))) / 60);

                secondes = Math.floor(total_secondes - ((jours * 60 * 60 * 24 + heures * 60 * 60 + minutes * 60)));


                var et = "et";

                var mot_jour = "J,";

                var mot_heure = "h,";

                var mot_minute = "min,";

                var mot_seconde = "sec";


                if (jours == 0) {

                    jours = '';

                    mot_jour = '';

                }

                else if (jours == 1) {

                    mot_jour = "jour,";

                }


                if (heures == 0) {

                    heures = '';

                    mot_heure = '';

                }

                else if (heures == 1) {

                    mot_heure = "h,";

                }


                if (minutes == 0) {

                    minutes = '';

                    mot_minute = '';

                }

                else if (minutes == 1) {

                    mot_minute = "min,";

                }


                if (secondes == 0) {

                    secondes = '';

                    mot_seconde = '';

                    et = '';

                }

                else if (secondes == 1) {

                    mot_seconde = "sec";

                }


                if (minutes == 0 && heures == 0 && jours == 0) {

                    et = "";

                }

                if (prefixe != "Compte à rebours terminé il y a ") {
                    var jusqua = '';
                    if (jour_now == jour_fin) {
                        jusqua = "aujourd'hui ";
                    } else {
                        jusqua = "demain ";
                    }
                    compte_a_rebours.innerHTML = prefixe + '<br class="temps_a_rebours">' + jusqua + heure_fin + '<br>';
                    setTimeout(function () {
                        //kedusal(span, date_now, date_fin)
                    }, 1000);
                } else {
                    document.getElementById("credit_" + span).innerHTML = '';
                }


            }

            else {

                //compte_a_rebours.innerHTML = 'terminé.';
                document.getElementById("credit_" + span).innerHTML = '';
                document.getElementById(span).innerHTML = '';

            }

        }

        function kedusal(span, date_now, date_fin) {
            var date_now2 = new Date(date_now);
            date_now2.setSeconds(date_now2.getSeconds() + 1);
            compte_a_rebours(span, date_now2.toString(), date_fin);
            //alert(date_now2);
        }
    </script>

    <!-- debut du script pour fil d'ariane -->
    <script type="application/ld+json">
            {
                "@context":"http://schema.org",
                "@type": "BreadcrumbList",
                "itemListElement":
                [
                    {
                    "@type": "ListItem",
                    "position": 1,
                    "name": "accueil",
                    "item":"https://www.unevoyante.fr/"
                                    
                    },
                    {
                       "@type": "ListItem",
                        "position": 2,
                      "name": "Site Voyance mobile",
                        "item":"https://www.unevoyante.fr/index.php/Client_controller/dial/1"
                    }
                    
                ]
            }
        </script>
    <!-- fin   -->



    <!-- Google Tag Manager pour l'affilie 58 dataopp à mettre dans le HEAD -->
    <script>(function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-WT7CD4D');</script>
    <!-- End Google Tag Manager -->


    <meta http-equiv="origin-trial"
        content="A751Xsk4ZW3DVQ8WZng2Dk5s3YzAyqncTzgv+VaE6wavgTY0QHkDvUTET1o7HanhuJO8lgv1Vvc88Ij78W1FIAAAAAB7eyJvcmlnaW4iOiJodHRwczovL3d3dy5nb29nbGV0YWdtYW5hZ2VyLmNvbTo0NDMiLCJmZWF0dXJlIjoiUHJpdmFjeVNhbmRib3hBZHNBUElzIiwiZXhwaXJ5IjoxNjgwNjUyNzk5LCJpc1RoaXJkUGFydHkiOnRydWV9">
    <meta http-equiv="origin-trial"
        content="A751Xsk4ZW3DVQ8WZng2Dk5s3YzAyqncTzgv+VaE6wavgTY0QHkDvUTET1o7HanhuJO8lgv1Vvc88Ij78W1FIAAAAAB7eyJvcmlnaW4iOiJodHRwczovL3d3dy5nb29nbGV0YWdtYW5hZ2VyLmNvbTo0NDMiLCJmZWF0dXJlIjoiUHJpdmFjeVNhbmRib3hBZHNBUElzIiwiZXhwaXJ5IjoxNjgwNjUyNzk5LCJpc1RoaXJkUGFydHkiOnRydWV9">
    <script type="text/javascript" async=""
        src="https://googleads.g.doubleclick.net/pagead/viewthroughconversion/984833646/?random=1673430928243&amp;cv=11&amp;fst=1673430928243&amp;bg=ffffff&amp;guid=ON&amp;async=1&amp;gtm=2oa190&amp;u_w=1536&amp;u_h=864&amp;hn=www.googleadservices.com&amp;frm=0&amp;url=https%3A%2F%2Fwww.unevoyante.fr%2Findex.php%2FClient_controller%2Fdial%2F1&amp;tiba=Site%20Voyance%20mobile&amp;auid=1181828872.1673430566&amp;uaa=x86&amp;uab=64&amp;uafvl=Not%253FA_Brand%3B8.0.0.0%7CChromium%3B108.0.5359.125%7CGoogle%2520Chrome%3B108.0.5359.125&amp;uap=Windows&amp;uapv=10.0.0&amp;uaw=0&amp;data=event%3Dgtag.config&amp;rfmt=3&amp;fmt=4"></script>
</head>

<body style="background-position:center top" class="">


    <!-- Google Tag Manager (noscript) pour l'affilie 58 dataopp à mettre dans le body-->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WT7CD4D" height="0" width="0"
            style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->


    <h1 style="display:none">Site Voyance mobile</h1>
    <h1 style="display:none">http://www.unevoyante.fr/index.php/Client_controller/dial/1</h1>

    <div id="wrapper" class="wrapper">
        <main class="page-content">

            <section class="top-bar d-block">
                <div class="container">
                    <div class="row justify-content-center">
                        <div class="col-lg-8 col-md-12 col-xs-12 plr-5">

                            <!-- menu unevoyante  -->

                            <span class="connect menubar">
                                <!-- Example single danger button -->
                                <div class="btn-group">
                                    <span onclick="$('#menuforce').toggle()" id="fas-bar-menu-unevoyante"
                                        class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"
                                        aria-expanded="false">
                                        <i class="fas fa-bars"></i>
                                    </span>
                                    <div class="dropdown-menu burger-dropdown-menu" id="menuforce"
                                        style="display: none;">
                                        <li>
                                            <span class="dropdown-item dropdown-item-highlight">
                                                <span class="buy-credits-highlight">
                                                    <img class="dropdown-icon"
                                                        src="https://www.unevoyante.fr/assets/client/menu_unevoyante/img/tarot.svg"
                                                        alt="">
                                                    <a href="#" data-toggle="modal" data-target="#creditModal"
                                                        class="buy-credits">Acheter des crédits </a>
                                                </span>
                                                <span class="dropdown-item-text balance-credits">Solde de vos crédits :
                                                    1</span>
                                            </span>
                                        </li>
                                        <li>
                                            <a class="dropdown-item" href="https://www.unevoyante.fr/index.php">
                                                <img class="dropdown-icon"
                                                    src="https://www.unevoyante.fr/assets/client/menu_unevoyante/img/esoteric.svg"
                                                    alt="">
                                                Accueil
                                            </a>
                                        </li>
                                        <li>
                                            <a class="dropdown-item"
                                                href="https://www.unevoyante.fr/index.php/Client_controller/mon_compte">
                                                <img class="dropdown-icon"
                                                    src="https://www.unevoyante.fr/assets/client/menu_unevoyante/img/fortune-teller.svg"
                                                    alt="">
                                                Mon compte
                                            </a>
                                        </li>
                                        <!-- <li class="dropdown-submenu">
                                            <a class="dropdown-item dropdown-toggle" href="#">
                                                <img class="dropdown-icon" src="https://www.unevoyante.fr/assets/client/menu_unevoyante/img/fortune-teller-2.svg" alt="">
                                                Liste des voyants
                                                <span class="dropdown-more plus">+</span>
                                                <span class="dropdown-more less d-none">-</span>
                                            </a>
                                            <ul class="dropdown-menu sub-dropdown-menu">
                                              <li><a class="dropdown-item" href="#">Mathilde</a></li>
                                              <li><a class="dropdown-item" href="#">Emilie</a></li>
                                              <li><a class="dropdown-item" href="#">Jean-jacques</a></li>
                                              <li><a class="dropdown-item" href="#">Viviane</a></li>
                                              <li><a class="dropdown-item" href="#">Roger</a></li>
                                          </ul>
                                         </li> -->

                                        <li class="dropdown-submenu">
                                            <a class="dropdown-item dropdown-toggle" href="#">
                                                <img class="dropdown-icon"
                                                    src="https://www.unevoyante.fr/assets/client/menu_unevoyante/img/fortune-teller-2.svg"
                                                    alt="">
                                                Liste des voyants
                                                <span class="dropdown-more plus">+</span>
                                                <span class="dropdown-more less d-none">-</span>
                                            </a>
                                            <ul class="dropdown-menu sub-dropdown-menu-2">

                                                <li><a class="dropdown-item"
                                                        href="https://www.unevoyante.fr/index.php/Client_controller/dial/1">Mathilde</a>
                                                </li>
                                                <li><a class="dropdown-item"
                                                        href="https://www.unevoyante.fr/index.php/Client_controller/dial/2">Jean-jacques</a>
                                                </li>
                                                <li><a class="dropdown-item"
                                                        href="https://www.unevoyante.fr/index.php/Client_controller/dial/3">Emilie</a>
                                                </li>
                                                <li><a class="dropdown-item"
                                                        href="https://www.unevoyante.fr/index.php/Client_controller/dial/4">Viviane</a>
                                                </li>
                                                <li><a class="dropdown-item"
                                                        href="https://www.unevoyante.fr/index.php/Client_controller/dial/5">Roger</a>
                                                </li>
                                                <li><a class="dropdown-item"
                                                        href="https://www.unevoyante.fr/index.php/Client_controller/dial/6">Evelyne</a>
                                                </li>
                                                <li><a class="dropdown-item"
                                                        href="https://www.unevoyante.fr/index.php/Client_controller/dial/7">Olivier</a>
                                                </li>
                                                <li><a class="dropdown-item"
                                                        href="https://www.unevoyante.fr/index.php/Client_controller/dial/8">Lucille
                                                    </a></li>
                                                <li><a class="dropdown-item"
                                                        href="https://www.unevoyante.fr/index.php/Client_controller/dial/9">Marion</a>
                                                </li>
                                            </ul>
                                        </li>
                                        <li>
                                            <a class="dropdown-item"
                                                href="https://www.unevoyante.fr/index.php/Auth_controller/logout">
                                                <img class="dropdown-icon"
                                                    src="https://www.unevoyante.fr/assets/client/menu_unevoyante/img/alternate.svg"
                                                    alt="">
                                                Deconnexion
                                            </a>
                                        </li>
                                        <li>
                                            <a class="dropdown-item"
                                                href="https://www.unevoyante.fr/index.php/Client_controller/contact">
                                                <img class="dropdown-icon"
                                                    src="https://www.unevoyante.fr/assets/client/menu_unevoyante/img/esoteric-2.svg"
                                                    alt="">
                                                Nous contacter
                                            </a>
                                        </li>
                                    </div>
                                </div>

                            </span>
                            <span class="logo">
                                <a href="https://www.unevoyante.fr/index.php">
                                    <!-- <img src="https://www.unevoyante.fr/assets/client/img/logoFR.jpeg" width="300" height="70" alt="voyance gratuite">  -->
                                    <img src="https://www.unevoyante.fr/assets/client/nouveau_style/img/logo-fr-bg.svg"
                                        width="300" height="70" alt="voyance gratuite">
                                </a>
                            </span>
                            <!-- fin -->

                            <span class="connect float-right">



                                <div class="connect header-icons-menu float-right">
                                    <span class="btn-nav-item ml-2 cart-item-button" data-toggle="modal"
                                        data-target="#creditModal" style="cursor: pointer;">
                                        <span class="fa-stack cart-item-button-wrap">
                                            <i class="fas fa-coins color21 fa-stack-1x"></i>
                                            <span class="cart-item-inline"><span id="nbre_credits2">1</span></span>
                                        </span>
                                    </span>

                                    <a href="#" data-toggle="modal" data-target="#creditModal"
                                        class="ml-2 btn-nav-item">
                                        <span class="fa-stack" id="button_creditModal1">
                                            <i class="far fa-circle fa-stack-2x"></i>
                                            <i class="fas fa-cart-plus color21 fa-stack-1x"></i>
                                            <!--<span class="cart-item">1</span> -->
                                        </span>
                                    </a>

                                </div>




                            </span>

                        </div>
                    </div>
                </div>
            </section>











            <section>
                <div class="container">
                    <div class="row justify-content-center" id="content-msg-dial">
                        <!--  -->
                        <!-- <div class="alert alert-primary alert-dismissible fade show" id="deja-ms3g" role="alert" style="position: relative; width: 100%; margin-bottom: 4px;">
                                    <button id="btn_close_notation" type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                    <center> Bonjour , votre voyant(e) s'occupe de vous! Sachez toute fois qu'il faut tirer des cartes, les interpr ter et ensuite vous ecrire une r ponse. Cela demande <b>quelques minutes</b> d'attente. Merci de votre patience.</center>

                                </div> -->


                        <div style="overflow: auto;" id="chat" class="col-xl-8 col-md-12 col-xs-12 max-vh-80 bg-tchat"
                            onscroll="Myfonction(this)">
                            <div class="clearfix"></div>
                            <span id="nombre_messages" style="display: none;">13</span>
                            <span id="nbre_total_messages" style="display: none;">376</span>
                            <!-- <span id="heure_fr_actuelle" style="display: none;">03</span> -->



                            <div class="bubble2" style="min-width:320px;">
                                <p>elle ne me répond plus depuis que je lui ai avoué mes sentiments, vous pensez que c
                                    est fini ? </p>
                            </div>

                            <div class="clearfix"></div>

                            <div class="bubble1-name">Mathilde</div>
                            <div class="bubble1" style="min-width:320px;">
                                <!-- <p></p> -->
                                <p id="last_message"> je comprends que vous soyez inquiet. Je vois ici un jeu de cartes
                                    du Tarot de Marseille qui indique qu'il a probablement beaucoup de choses à prendre
                                    en compte et à réfléchir avant une prise de décision. Toutefois, les cartes sont
                                    bienveillantes et me suggèrent que votre situation n'est pas totalement perdue. En
                                    partageant ce que vous ressentez avec sincérité et patience peut-être trouverez-vous
                                    la force dans cette relation ?</p>
                                <!-- <div class="thumbs-box">
                                                        <a class="thumb-link thumb-up">
                                                            <img src="" class="thumb-icon thumb-up" alt="Like">
                                                        </a>
                                                        <a class="thumb-link thumb-down">
                                                            <img src="" class="thumb-icon thumb-down" alt="Dislike">
                                                        </a>
                                                    </div> -->
                            </div>
                            <div class="clearfix"></div>



                            <div class="bubble2" style="min-width:320px;">
                                <p>oui mais je lui ai deja dit, comment faire pour qu'elle m'aime ?</p>
                            </div>

                            <div class="clearfix"></div>

                            <div class="bubble1-name">Mathilde</div>
                            <div class="bubble1" style="min-width:320px;">
                                <!-- <p></p> -->
                                <p id="last_message"> Votre question est très intéressante. Pour répondre à votre
                                    question, je vais observer le tarot de Marseille et voir ce que les cartes peuvent
                                    m'illustrer sur la situation actuelle concernant cette personne. Les Arcanes Majeurs
                                    qui apparaissent peuvent offrir des informations importantes : Le Bateleur et La
                                    Lune semblent suggérer une convergence entre l'amour physique et l'amour spirituel ;
                                    cela signifie que vous avez certainement développé une connexion forte avec cette
                                    personne </p>
                                <!-- <div class="thumbs-box">
                                                        <a class="thumb-link thumb-up">
                                                            <img src="" class="thumb-icon thumb-up" alt="Like">
                                                        </a>
                                                        <a class="thumb-link thumb-down">
                                                            <img src="" class="thumb-icon thumb-down" alt="Dislike">
                                                        </a>
                                                    </div> -->
                            </div>
                            <div class="clearfix"></div>



                            <div class="bubble2" style="min-width:320px;">
                                <p>Ça veut dire que je lui plais ? </p>
                            </div>

                            <div class="clearfix"></div>

                            <div class="bubble1-name">Mathilde</div>
                            <div class="bubble1" style="min-width:320px;">
                                <!-- <p></p> -->
                                <p id="last_message">Ma prédiction se concentrera sur la question que vous m'avez posée
                                    : est-ce que cette personne ressent un intérêt pour moi ? Les cartes me disent que
                                    oui, il y a une connexion entre vous deux et le sentiment qu'il existe quelque chose
                                    d’important entre vous. Comment allez-vous faire face aux défis qui se</p>
                                <!-- <div class="thumbs-box">
                                                        <a class="thumb-link thumb-up">
                                                            <img src="" class="thumb-icon thumb-up" alt="Like">
                                                        </a>
                                                        <a class="thumb-link thumb-down">
                                                            <img src="" class="thumb-icon thumb-down" alt="Dislike">
                                                        </a>
                                                    </div> -->
                            </div>
                            <div class="clearfix"></div>



                            <div class="bubble2" style="min-width:320px;">
                                <p>Donc si je lui plais comment faire pour qu elle m aime ?</p>
                            </div>

                            <div class="clearfix"></div>

                            <div class="bubble1-name">Mathilde</div>
                            <div class="bubble1" style="min-width:320px;">
                                <!-- <p></p> -->
                                <p id="last_message">je vois que vous recherchez des conseils pour séduire une personne.
                                    Si vous souhaitez qu'elle tombre amoureuse de vous, il va falloir faire preuve
                                    d'authenticité et d'intérêt. Montrez-lui que votre intérêt pour elle est réel et
                                    montrez que vous êtes prêt à lui consacrer du temps et de l'attention. Prenez le
                                    temps de discuter avec elle afin qu’elle puisse apprendre à mieux cônnaître qui vous
                                </p>
                                <!-- <div class="thumbs-box">
                                                        <a class="thumb-link thumb-up">
                                                            <img src="" class="thumb-icon thumb-up" alt="Like">
                                                        </a>
                                                        <a class="thumb-link thumb-down">
                                                            <img src="" class="thumb-icon thumb-down" alt="Dislike">
                                                        </a>
                                                    </div> -->
                            </div>
                            <div class="clearfix"></div>



                            <div class="bubble2" style="min-width:320px;">
                                <p>On se connaît bien, on a déjà fait l’amour etc mais je veux qu on soit ensemble pour
                                    une vraie relation</p>
                            </div>

                            <div class="clearfix"></div>

                            <div class="bubble1-name">Mathilde</div>
                            <div class="bubble1" style="min-width:320px;">
                                <!-- <p></p> -->
                                <p id="last_message">Selon mon interprétation des cartes du tarot de Marseille, le futur
                                    proche vous réserve beaucoup d'opportunités si vous êtes prêt à les saisir. La
                                    situation actuelle en amour peut paraître compliquée mais je sens que lorsque vous
                                    déciderez de prendre une bonne décision et d'aller vers ce qui est bénéfique pour
                                    votre relation sentimentale future, elle rayonnera positivement et grandira entre
                                    vous deux. Avez-vous des questions concern</p>
                                <!-- <div class="thumbs-box">
                                                        <a class="thumb-link thumb-up">
                                                            <img src="" class="thumb-icon thumb-up" alt="Like">
                                                        </a>
                                                        <a class="thumb-link thumb-down">
                                                            <img src="" class="thumb-icon thumb-down" alt="Dislike">
                                                        </a>
                                                    </div> -->
                            </div>
                            <div class="clearfix"></div>



                            <div class="bubble2" style="min-width:320px;">
                                <p>Je souhaite savoir plus</p>
                            </div>

                            <div class="clearfix"></div>

                            <div class="bubble1-name">Mathilde</div>
                            <div class="bubble1" style="min-width:320px;">
                                <!-- <p></p> -->
                                <p id="last_message"> Très bien, je vais utiliser les cartes du tarot de Marseille pour
                                    explorer votre situation plus en profondeur. Quelle carte a le plus d'importance à
                                    vos yeux ?</p>
                                <!-- <div class="thumbs-box">
                                                        <a class="thumb-link thumb-up">
                                                            <img src="" class="thumb-icon thumb-up" alt="Like">
                                                        </a>
                                                        <a class="thumb-link thumb-down">
                                                            <img src="" class="thumb-icon thumb-down" alt="Dislike">
                                                        </a>
                                                    </div> -->
                            </div>
                            <div class="clearfix"></div>



                            <div class="bubble2" style="min-width:320px;">
                                <p>Aucune</p>
                            </div>

                            <div class="clearfix"></div>

                            <div class="bubble1-name">Mathilde</div>
                            <div class="bubble1" style="min-width:320px;">
                                <!-- <p></p> -->
                                <p id="last_message">Je peux vous aider à trouver des réponses et un sens profond aux
                                    questions que vous posez dans la vie en étudiant les cartes du tarot de Marseille.
                                    Avez-vous une question spécifique sur laquelle je peux me concentrer ?</p>
                                <!-- <div class="thumbs-box">
                                                        <a class="thumb-link thumb-up">
                                                            <img src="" class="thumb-icon thumb-up" alt="Like">
                                                        </a>
                                                        <a class="thumb-link thumb-down">
                                                            <img src="" class="thumb-icon thumb-down" alt="Dislike">
                                                        </a>
                                                    </div> -->
                            </div>
                            <div class="clearfix"></div>



                            <div class="bubble2" style="min-width:320px;">
                                <p>oui va t elle revenir ?</p>
                            </div>

                            <div class="clearfix"></div>

                            <div class="bubble1-name">Mathilde</div>
                            <div class="bubble1" style="min-width:320px;">
                                <!-- <p></p> -->
                                <p id="last_message"> Bonjour, je vois dans les cartes du tarot que la situation
                                    actuelle est complexe mais il y a de l'espoir. Vos chances de réussite sont bonnes
                                    si vous êtes prêt à changer certaines choses et à prendre des risques calculés. La
                                    question n'est pas seulement 'Elle va-t-elle revenir ?' mais plutôt 'Est-ce que
                                    cette personne et moi allons trouver une façon de repartir sur le bon pied ?'.
                                    Peut-être souhaitez-vous réfléchir un pe</p>
                                <!-- <div class="thumbs-box">
                                                        <a class="thumb-link thumb-up">
                                                            <img src="" class="thumb-icon thumb-up" alt="Like">
                                                        </a>
                                                        <a class="thumb-link thumb-down">
                                                            <img src="" class="thumb-icon thumb-down" alt="Dislike">
                                                        </a>
                                                    </div> -->
                            </div>
                            <div class="clearfix"></div>



                            <div class="bubble2" style="min-width:320px;">
                                <p>qsdqsdqsd</p>
                            </div>

                            <div class="clearfix"></div>

                            <div class="bubble1-name">Mathilde</div>
                            <div class="bubble1" style="min-width:320px;">
                                <!-- <p></p> -->
                                <p id="last_message"> Bonjour, je suis ravie de vous avoir sur ma consultation de
                                    voyance. Je vois que vous êtes à la recherche d'une réponse à une question ? Quelle
                                    est donc cette question qui me fait l'honneur de votre présence ?</p>
                                <!-- <div class="thumbs-box">
                                                        <a class="thumb-link thumb-up">
                                                            <img src="" class="thumb-icon thumb-up" alt="Like">
                                                        </a>
                                                        <a class="thumb-link thumb-down">
                                                            <img src="" class="thumb-icon thumb-down" alt="Dislike">
                                                        </a>
                                                    </div> -->
                            </div>
                            <div class="clearfix"></div>



                            <div class="bubble2" style="min-width:320px;">
                                <p>Surtout stephanie qui m'interesse...</p>
                            </div>

                            <div class="clearfix"></div>

                            <div class="bubble1-name">Mathilde</div>
                            <div class="bubble1" style="min-width:320px;">
                                <!-- <p></p> -->
                                <p id="last_message"> Bonjour, je vois que vous êtes intéressé par Stephanie. Très bien.
                                    Je vois ici les cartes du tarot du Marseille et elles me disent que Stephanie est
                                    une personne très positive et qui souhaite le meilleur pour vous. Elle est prête à
                                    vous donner tout ce dont vous avez besoin pour atteindre votre objectif, elle veut
                                    sincèrement votre réussite et vos bonheurs. Pouvez-vous m'en dire plus sur la
                                    situation actuelle ?</p>
                                <!-- <div class="thumbs-box">
                                                        <a class="thumb-link thumb-up">
                                                            <img src="" class="thumb-icon thumb-up" alt="Like">
                                                        </a>
                                                        <a class="thumb-link thumb-down">
                                                            <img src="" class="thumb-icon thumb-down" alt="Dislike">
                                                        </a>
                                                    </div> -->
                            </div>
                            <div class="clearfix"></div>



                            <div class="bubble2" style="min-width:320px;">
                                <p>De quelle aide vous voulez me parler? </p>
                            </div>

                            <div class="clearfix"></div>

                            <div class="bubble1-name">Mathilde</div>
                            <div class="bubble1" style="min-width:320px;">
                                <!-- <p></p> -->
                                <p id="last_message"> Bonjour, je vois que vous avez une question à me poser. Je vais
                                    utiliser les cartes du tarot pour vous guider et répondre à votre demande. La carte
                                    qui ressort est l'Empereur, ce qui signifie que vous êtes actuellement en train de
                                    prendre des décisions importantes dans votre vie et de trouver la force d'aller
                                    jusqu'au bout. Vous pouvez compter sur le soutien des personnes autour de vous pour
                                    aller plus loin et atteindre le succès. Pouvez-vous</p>
                                <!-- <div class="thumbs-box">
                                                        <a class="thumb-link thumb-up">
                                                            <img src="" class="thumb-icon thumb-up" alt="Like">
                                                        </a>
                                                        <a class="thumb-link thumb-down">
                                                            <img src="" class="thumb-icon thumb-down" alt="Dislike">
                                                        </a>
                                                    </div> -->
                            </div>
                            <div class="clearfix"></div>



                            <div class="bubble2" style="min-width:320px;">
                                <p>Oui mais j ai besoins de savoir si Stéphanie a quelqu un d autre dans son cœur ? </p>
                            </div>

                            <div class="clearfix"></div>

                            <div class="bubble1-name">Mathilde</div>
                            <div class="bubble1" style="min-width:320px;">
                                <!-- <p></p> -->
                                <p id="last_message"> Bonjour, je vais voir ce que les cartes peuvent me dire. Je tire
                                    pour vous le Roi de Coupes : cette carte évoque l'amour et la passion. Elle suggère
                                    qu'il y a une autre personne dans la vie de Stéphanie qui suscite des sentiments
                                    forts en elle. Cependant, il est difficile à déterminer si cela se traduit par une
                                    relation amoureuse ou non car cela dépendra des circonstances spécifiques qui nous
                                    sont inconnues pour le moment. Pouvez-vous m'en dire plus</p>
                                <!-- <div class="thumbs-box">
                                                        <a class="thumb-link thumb-up">
                                                            <img src="" class="thumb-icon thumb-up" alt="Like">
                                                        </a>
                                                        <a class="thumb-link thumb-down">
                                                            <img src="" class="thumb-icon thumb-down" alt="Dislike">
                                                        </a>
                                                    </div> -->
                            </div>
                            <div class="clearfix"></div>



                            <div class="bubble2" style="margin-bottom:40px ; min-width:320px;">
                                <p>peut etre quelle a rencontrée quelqu'un ? vous pouvez verifier svp ?</p>
                            </div>

                            <div class="clearfix"></div>


                            <div class="bubble1-name">Mathilde</div>
                            <div class="bubble1" style="margin-bottom:70px;min-width:320px;">
                                <!-- <p id="last_message"></p> -->
                                <p id="last_message"> Bonjour, je vois que vous voulez savoir si elle a rencontré
                                    quelqu'un. Je vais donc utiliser le tarot du Marseille pour voir ce qu'il me dit. Je
                                    tire la carte de l'Amoureux qui représente une union ou un sentiment amoureux donc
                                    je pense que oui, elle a rencontré quelqu'un. Pouvez-vous m'en dire plus sur la
                                    personne en question ?</p>
                                <div class="thumbs-box">
                                    <span class="thumb-link thumb-up" id="last_message_thumb_up" data-id_agent="71"
                                        data-id_voyant="1" data-id_client="16168"
                                        data-contenu="peut etre quelle a rencontrée quelqu'un ? vous pouvez verifier svp ?">
                                        <img src="https://www.unevoyante.fr/assets/client/menu_unevoyante/img/icon-thumb-up-green.png"
                                            class="thumb-icon thumb-up" alt="Like">
                                    </span>
                                    <span class="thumb-link thumb-down" id="last_message_thumb_down" data-id_agent="71"
                                        data-id_voyant="1" data-id_client="16168"
                                        data-contenu="peut etre quelle a rencontrée quelqu'un ? vous pouvez verifier svp ?">
                                        <img src="https://www.unevoyante.fr/assets/client/menu_unevoyante/img/icon-thumb-down-red.png"
                                            class="thumb-icon thumb-down" alt="Dislike">
                                    </span>
                                </div>
                            </div><!-- <span style="display: none">thisdotgodHideResponseWithHisSpecialrobot</span> -->
                            <div class="clearfix"></div>


                            <!-- <div class="clearfix"></div> -->
                            <span style="font-style: italic;color: #fff; float: right;" id="span_notifications"></span>
                        </div>
                        <!-- <span style="font-style: italic;color: #fff; float: right;" id="span_notifications"></span> -->


                    </div>

                </div>
            </section>
            <div class="clearfix"></div>


            <div id="footer" class="dial" style="position:fixed;">

                <div class="container">
                    <div class="row justify-content-center">
                        <div class="col-lg-8 col-md-10 col-xs-10 send-bar">

                            <div class="input-group inputGroupDial">
                                <!-- Add Bubble avec icone clignotante -->
                                <div class="bubble-gift d-inline" id="bloc_lottie_popup">
                                    <lottie-player id="lottie_popup"
                                        src="https://www.unevoyante.fr/assets/anime-icone/assets/client/image/Cadeau_voyance.json"
                                        background="transparent" speed="1" data-toggle="modal"
                                        data-target="#modalcadeau"
                                        style="width: 60px; height: 60px;top: -15px;position: relative;" loop=""
                                        autoplay=""></lottie-player>
                                </div>

                                <!-- Fin Bubble avec icone clignotante -->

                                <input type="text" class="form-control" name="message" placeholder="Message ..."
                                    aria-label="Recipient's username" aria-describedby="button-addon2"
                                    id="client_message">
                                <!-- <div class="input-group-append"> -->
                                <div class="input-group-append btn-send-msg-container">
                                    <button class="btn btn-outline-secondary btn-send-msg" id="button-addon2"
                                        onclick="send_client_message()">
                                        Envoyer
                                    </button>

                                    <input type="hidden" name="id" id="id_voyant" value="1">
                                </div>


                                <img style="display: none; position: absolute; right: 10px; z-index: 1000;"
                                    src="https://www.unevoyante.fr/assets/pictures/loading.gif" width="50px"
                                    height="38px" class="loading">
                            </div>
                        </div>

                    </div>
                </div>
            </div>




            <!-- paiement modal -->

            <style type="text/css">
                .forfait.modal {
                    top: 30px;
                }

                .modal-dialog {
                    margin: 15px auto;
                }

                .forfait .modal-content,
                .forfait .modal-header,
                .forfait .modal-body,
                .forfait .modal-footer {
                    border: none;
                }

                .forfait .modal-dialog {
                    max-width: 300px;
                }

                .forfait .modal-content {
                    background-color: rgba(255, 255, 255, 0);
                }

                .forfait .modal-header {
                    background-image: url('https://www.unevoyante.fr/assets/client/img/new/modal-header.png');
                    background-repeat: no-repeat;
                    background-position: top center;
                    background-size: 100% auto;
                    background-color: rgba(255, 255, 255, 0);
                    height: 140px;
                }

                .forfait .modal-header {
                    padding: 25px 0 0;
                }

                .forfait .modal-header h5 {
                    font-size: 22px;
                    color: #fff;
                    position: relative;
                    margin: 0 auto;
                    width: 100%;
                    text-align: center;
                }

                .forfait .modal-header h5 small {
                    font-size: 14px;
                }

                .forfait.modal .close {
                    position: absolute;
                    top: -10px;
                    right: 5px;
                    margin: 0;
                    opacity: 1;
                    z-index: 10;
                    width: 32px;
                    height: 32px;
                    line-height: 26px;
                    color: #ffffff;
                    font-size: 14px;
                    overflow: hidden;
                    border-radius: 50%;
                    padding: 0;
                    background-color: #000;
                    -webkit-box-shadow: 0 2px 5px rgba(0, 0, 0, 0.16), 0 2px 10px rgba(0, 0, 0, 0.12);
                    -moz-box-shadow: 0 2px 5px rgba(0, 0, 0, 0.16), 0 2px 10px rgba(0, 0, 0, 0.12);
                    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.16), 0 2px 10px rgba(0, 0, 0, 0.12);
                }

                .forfait .modal-body {
                    background-image: url('https://www.unevoyante.fr/assets/client/img/new/modal-body.png');
                    background-repeat: repeat-y;
                    background-position: top center;
                    background-size: 100% auto;
                    background-color: rgba(255, 255, 255, 0);
                    padding: 5px 12px 5px 5px;
                }

                .forfait .modal-body .forfait1,
                .forfait .modal-body .forfait2,
                .forfait .modal-body .forfait3,
                .forfait .modal-body .forfait4,
                .forfait .modal-body .forfait5 {
                    position: relative;
                    width: 100%;
                    margin: 0 0 5px;
                    min-height: 80px;
                    background-repeat: no-repeat;
                    background-position: center center;
                    background-size: 100% auto;
                    padding: 20px 15px 0;
                }

                /*.forfait .modal-body .forfait1 {
background-image:url(../img/credit1.png);
}
.forfait .modal-body .forfait2 {
background-image:url(../img/credit2.png);
}
.forfait .modal-body .forfait3 {
background-image:url(../img/credit3.png);
}
.forfait .modal-body .forfait4 {
background-image:url(../img/credit4.png);
}*/


                .lien_forfait.forfait1 {
                    background-image: url('https://www.unevoyante.fr/assets/client/img/new/credit1.png');
                }

                .lien_forfait.forfait3 {
                    background-image: url('https://www.unevoyante.fr/assets/client/img/new/credit2.png');
                }

                .lien_forfait.forfait4 {
                    background-image: url('https://www.unevoyante.fr/assets/client/img/new/credit3.png');
                }

                .lien_forfait.forfait5 {
                    background-image: url('https://www.unevoyante.fr/assets/client/img/new/credit4.png');
                }

                .crd,
                .pack,
                .price {
                    position: relative;
                    display: inline-block;

                }

                .crd {
                    width: 50px;
                    line-height: 1;
                    font-size: 32px;
                    font-weight: 700;
                    text-align: center;
                    color: #fff;
                }

                .crd small {
                    display: block;
                    font-size: 11px;
                    font-weight: 600;
                    color: #fff;
                }

                .pack {
                    width: 135px;
                    font-weight: 600;
                    font-size: 16px;
                    line-height: 1;
                    padding: 0 5px;
                }

                .pack small {
                    display: block;
                    font-size: 12px;
                    color: #FF0000;
                    font-weight: 500;
                }

                .price {
                    width: 65px;
                    text-align: right;
                    padding: 0 6px 0 0;
                    font-size: 20px;
                    font-weight: 600;
                    letter-spacing: -1px;
                    line-height: 1;
                    color: #fff;
                }

                .price small {
                    font-size: 14px;
                }

                .promo {
                    position: absolute;
                    top: 3px;
                    right: 5px;
                    z-index: 50;
                }

                .promo .badge {
                    font-size: 14px;
                }

                .forfait .modal-footer {
                    background-image: url('https://www.unevoyante.fr/assets/client/img/new/modal-footer.png');
                    background-repeat: no-repeat;
                    background-position: bottom center;
                    background-size: 100% auto;
                    background-color: rgba(255, 255, 255, 0);
                    height: 30px;
                    border-top: none;
                }


                .lien_forfait:hover {
                    cursor: pointer;
                }

                .prix_barre {
                    text-decoration: line-through;
                }
            </style>

            <div class="modal fade forfait" id="creditModal" tabindex="-1" role="dialog"
                aria-labelledby="creditModalLabel" aria-hidden="true">

                <div style="display: none;" id="tampon_modal_forfaits">

                </div>

                <!-- modification modal de paiement  17-09-2021 -->
                <div class="modal-dialog modal-sm" role="document">
                    <div class="modal-content">


                        <div class="modal-header">
                            <h1 class="modal-title" id="exampleModalLabel">PACK VOYANCE<br>
                                <font size="2em">(Vos crédits actuels: <span id="nbre_credits">1</span>)</font>
                            </h1>
                            <button id="close_modal_paiement" type="button" class="close" data-dismiss="modal"
                                aria-label="Close">
                                <span aria-hidden="true"><i class="fas fa-times"></i></span>
                            </button>
                        </div>

                        <div class="modal-body" id="modal_id">
                            <span class="lien_forfait forfait1" style="z-index: 999999999999999999999999999999999"
                                id="1" name="4 credits" credits="" onclick="confirm_select(id)">


                                <div class="d-flex align-items-center">
                                    <div class="crd">4<small>Crédit</small></div>
                                    <div class="pack">Pack prévision <small></small>
                                    </div>
                                    <div class="price">7.99<small>€</small></div>
                                </div>

                            </span>



                            <span class="lien_forfait forfait3" style="z-index: 999999999999999999999999999999999"
                                id="3" name="10 credits" credits="" onclick="confirm_select(id)">

                                <div class="promo">
                                    <span class="badge badge-danger prix_barre">19.99 €</span>
                                </div>

                                <div class="d-flex align-items-center">
                                    <div class="crd">10<small>Crédit</small></div>
                                    <div class="pack">Pack évidence <small></small>
                                    </div>
                                    <div class="price">14.99<small>€</small></div>
                                </div>

                            </span>



                            <span class="lien_forfait forfait4" style="z-index: 999999999999999999999999999999999"
                                id="4" name="25 credits" credits="" onclick="confirm_select(id)">

                                <div class="promo">
                                    <span class="badge badge-danger prix_barre">49.99 €</span>
                                </div>

                                <div class="d-flex align-items-center">
                                    <div class="crd">25<small>Crédit</small></div>
                                    <div class="pack">Pack certitude <small></small>
                                    </div>
                                    <div class="price">29.99<small>€</small></div>
                                </div>

                            </span>



                            <span class="lien_forfait forfait5" style="z-index: 999999999999999999999999999999999"
                                id="5" name="50 credits" credits="" onclick="confirm_select(id)">

                                <div class="promo">
                                    <span class="badge badge-danger prix_barre">99.99 €</span>
                                </div>

                                <div class="d-flex align-items-center">
                                    <div class="crd">50<small>Crédit</small></div>
                                    <div class="pack">Pack résolution <small></small>
                                    </div>
                                    <div class="price">49.99<small>€</small></div>
                                </div>

                            </span>


                        </div>
                        <div class="modal-footer"></div>
                    </div>
                </div>

                <!-- end modal de paiement 07-09-2021 -->

            </div>

            <script src="https://www.unevoyante.fr/assets/client/js/jquery.min.js"></script>
            <script type="text/javascript">

                //fonction qui reccupere le nombre de credits d'un client donné
                function reload_print_credits(id_client) {
                    $.ajax({
                        url: 'https://www.unevoyante.fr/index.php/Payments_controller/get_client_credits',
                        type: 'POST',
                        data: { id_client: id_client },
                        // response contient le nombre de clients en attente
                        success: function (response) {
                            $('#nbre_credits').html(response);
                            $('#nbre_credits2').html(response);
                        }
                    });
                }

                //fonction apellee lorsqu'on clique sur un forfait
                function transform_html(object, NBRE_CREDITS, PRIX, credits_promo, nbre_transaction) {
                    //si le le client a deja effectué un paiement, on fait apparaitre le boutton du OneClick
                    //on retient l'id du forfait sur lequel on a cliqué
                    var dis = $(object).attr('id');
                    var transaction = $(object).attr('promotion');

                    if (token != '0') {
                        //on raffraichit la liste des forfaits sur le modal

                        $('#modal_id').html(real_modal_content);
                        var texte_promo = '';
                        //if (document.getElementById('print_promo_'+dis) && document.getElementById('print_promo_'+dis).innerHTML == '') {
                        //credits_promo = '';
                        //}
                        if (credits_promo != '') {
                            texte_promo = "(+" + credits_promo + ")";
                        }
                        //on remplace le forfait par le boutton
                        $('#' + dis).html('                                                                <button onclick="pay(' + dis + ', ' + credits_promo + ',' + nbre_transaction + ')"  class="justify-content-center align-items-center btn btn-primary form-control">Confirmer</button><input type="hidden" id="input_pay_' + $(object).attr('id') + '" value="' + $(object).attr('id') + '">                                                                                                                              ');
                        //Confirmez votre achat de '+NBRE_CREDITS+' '+texte_promo+' crédits , '+PRIX+' €

                        $('#' + dis).removeAttr('onclick');



                        //sinon on fait on ouvre la page du formaile de paiement
                    } else {
                        //window.location.href ="https://www.unevoyante.fr/index.php/Payments_controller/pay/"+dis;
                    }
                }

                function setLoading(id_forfait) {
                    $('#modal_id').html('<center>Veuillez patienter, paiement en cours...<IMG style="z-index: 1000;" src="https://www.unevoyante.fr/assets/pictures/chargement.gif"  height="50px"></center>');

                    window.location.href = "https://www.unevoyante.fr/index.php/Payments_controller/TROISDSoneClickPayment/" + id_forfait;
                }

                //raffraichir la liste des forfaits du modal
                function show_forfaits() {
                    reload_print_credits(16168);
                    $('#modal_id').fadeTo(7000, 0);
                    setTimeout(function () {
                        $.ajax({
                            url: 'https://www.unevoyante.fr/index.php/Client_controller/get_new_modal_forfait',
                            type: 'POST',
                            data: { id_client: '16168' },
                            // response contient le nombre de clients en attente
                            success: function (response) {
                                $('#modal_id').html(response);
                                $('#modal_id').fadeTo(500, 1);
                            },
                            error: function (sdfgh) {
                                alert("echec! veuillez verifier votre connexion");
                            }

                        });

                    }, 7000);

                }

                // appel de la nouvelle modal de conformation du select forfait

                function confirm_select(id) {

                    $('#close_modal_paiement').trigger('click');
                    $('#confirmSelectModal' + id).trigger('click');

                }


                //lorsqu'on clique sur le boutton du OneClick payment
                function pay(idt, credits_promo, nbre_transaction) {
                    console.log(nbre_transaction);
                    //on affiche le loading
                    $('#modal_id').html('<center><IMG style="z-index: 1000;" src="https://www.unevoyante.fr/assets/pictures/chargement.gif"  height="50px"></center>');
                    //alert(id);
                    //setTimeout('pay_eff('+idt+', '+credits_promo+')', 1);

                    // on appelle en fonction du statut_3ds(0 or 1) la oneclick sans 3ds ou avec 3ds

                    //forcing du full 3DS
                    nbre_transaction = 1;

                    if (nbre_transaction == 0) {
                        setTimeout('pay_eff(' + idt + ', ' + credits_promo + ' , ' + nbre_transaction + ')', 1);
                    }
                    if (nbre_transaction == 1) {
                        window.location.href = "https://www.unevoyante.fr/index.php/Payments_controller/TROISDSoneClickPayment/" + idt + "/" + credits_promo + "/" + nbre_transaction;
                    }



                }


                function pay_eff(idt, credits_promo, nbre_transaction) {
                    //var tonQ = $(idt).attr('id');
                    //alert($('#input_'+tonQ).val());
                    //var id_forfait2 = $('#input_'+tonQ).val();
                    var id_forfait2 = idt;
                    var statut_3ds = nbre_transaction;
                    //alert(idt);
                    $('#modal_id').html('<center><IMG style="z-index: 1000;" src="https://www.unevoyante.fr/assets/pictures/chargement.gif"  height="50px"></center>');

                    $.ajax({
                        url: 'https://www.unevoyante.fr/index.php/Payments_controller/process3',
                        type: 'POST',
                        data: { id_forfait: id_forfait2, credits_promo: credits_promo, statut_3ds: statut_3ds },
                        // response contient le nombre de clients en attente
                        success: function (response) {
                            //$('#modal_id').html('<center>'+response+'</center>');
                            //show_forfaits();
                            XMLresponse = $.parseXML(response);
                            $xmlDocument = $(XMLresponse);
                            var message_sucess = $xmlDocument.find("message_sucess").text();
                            var execode = $xmlDocument.find("execode").text();
                            var transaction_id = $xmlDocument.find("transaction_id").text();
                            var prix = $xmlDocument.find("prix").text();
                            $('#modal_id').html('<center>' + message_sucess + '</center>');
                            if (execode == '0000') {

                                gtag('event', 'conversion', {
                                    'send_to': 'AW-984833646/2yfBCJux3PkBEO68zdUD',
                                    'value': prix,
                                    'currency': 'EUR',
                                    'transaction_id': transaction_id
                                });

                            }
                            show_forfaits();
                        },
                        error: function (sdfgh) {
                            alert("echec! veuillez verifier votre connexion");

                        }

                    });
                }



                function check_new_promo() {
                    $.ajax({
                        url: 'https://www.unevoyante.fr/index.php/Client_controller/check_new_promo',
                        type: 'POST',
                        //response contient la valeur du champ 'en_attente'
                        success: function (response) {
                            if (response != nbre_promotions) {
                                nbre_promotions = response;
                                reload_modal();
                                //setTimeout('check_new_promo()', 60000);
                            } else {
                                //setTimeout('check_new_promo()', 60000);
                            }
                        },
                        error: function () {
                            //setTimeout('check_new_promo()', 60000);
                        }
                    });
                }

                function reload_modal() {
                    $.ajax({
                        url: 'https://www.unevoyante.fr/index.php/Client_controller/get_new_modal_forfait',
                        type: 'POST',
                        data: { id_client: '16168' },
                        // response contient le nombre de clients en attente
                        success: function (response) {
                            $('#modal_id').html(response);
                            real_modal_content = response;
                        },
                        error: function () {
                            //alert('veuillez verifier votre connexion internet');
                        }
                    });
                }



                $(function () {
                    //lorsque la page est prete, on sauvegarde la liste des forfaits 
                    real_modal_content = $('#modal_id').html();

                    nbre_promotions = "0";
                    //on enregistre le token
                    token = "" + "A4-25f24677-10ef-428b-9cd1-56fb4abf073e";

                    check_new_promo();
                });




            </script>




            <style type="text/css">


            </style>
            <div id="modal_body_confirm">
                <div id="modal_body_confirm">

                    <a href="#" data-toggle="modal" id="confirmSelectModal1" data-target="#confirmSelect1">
                    </a>
                    <!-- Modification Modal 17/09/2021 -->
                    <div class="modal forfait fade" id="confirmSelect1" tabindex="-1" role="dialog"
                        aria-labelledby="creditModalLabel" aria-hidden="true">
                        <div style="display: none;" id="tampon_modal_forfaits"></div>
                        <div class="modal-dialog modal-sm" role="document">
                            <div class="modal-content">

                                <div class="modal-header">
                                    <h1 class="modal-title" id="exampleModalLabel">PACK VOYANCE <br>
                                        <font size="2em">(Vos crédits actuels: <span id="nbre_credits">1</span>)</font>
                                    </h1>
                                    <button type="button" id="close_confirm_paiement1" class="close"
                                        onclick="close_confirm('1')">
                                        <span aria-hidden="true"><i class="fas fa-times"></i></span>
                                    </button>
                                </div>

                                <div class="modal-body">
                                    <div class="text-center">
                                        <h2>Vous avez sélectionné :</h2>
                                    </div>
                                    <span class="lien_forfait forfait1"
                                        style="z-index: 999999999999999999999999999999999" id="1" name="4 credits"
                                        credits="">


                                        <div class="d-flex align-items-center">
                                            <div class="crd">4<small> Crédit</small></div>
                                            <div class="pack">Pack prévision <small></small>
                                            </div>
                                            <div class="price">7.99<small>€</small></div>
                                        </div>

                                    </span>
                                    <div class="text-center pl-3 pr-3 mt-20" id="btn_confirm1">
                                        <button type="button" class="btn btn-success btn-lg btn-block pl-3 pr-3"
                                            onclick="pay_confirm_paiement('1' ,'0' , 1)">Valider</button>
                                    </div>
                                    <div class="text-center mt-10">
                                        <button type="button" class="btn btn-light ml-2"
                                            onclick="retour_liste_forfait('1')">Retour</button>
                                    </div>

                                    <div class="text-center mt-10" id="message_success1">

                                    </div>
                                </div>

                                <div class="modal-footer"></div>
                            </div>
                        </div>
                    </div>
                    <!-- Fin Addon Modal 07/09/2021 -->
                </div>



                <div id="modal_body_confirm">

                    <a href="#" data-toggle="modal" id="confirmSelectModal3" data-target="#confirmSelect3">
                    </a>
                    <!-- Modification Modal 17/09/2021 -->
                    <div class="modal forfait fade" id="confirmSelect3" tabindex="-1" role="dialog"
                        aria-labelledby="creditModalLabel" aria-hidden="true">
                        <div style="display: none;" id="tampon_modal_forfaits"></div>
                        <div class="modal-dialog modal-sm" role="document">
                            <div class="modal-content">

                                <div class="modal-header">
                                    <h1 class="modal-title" id="exampleModalLabel">PACK VOYANCE <br>
                                        <font size="2em">(Vos crédits actuels: <span id="nbre_credits">1</span>)</font>
                                    </h1>
                                    <button type="button" id="close_confirm_paiement3" class="close"
                                        onclick="close_confirm('3')">
                                        <span aria-hidden="true"><i class="fas fa-times"></i></span>
                                    </button>
                                </div>

                                <div class="modal-body">
                                    <div class="text-center">
                                        <h2>Vous avez sélectionné :</h2>
                                    </div>
                                    <span class="lien_forfait forfait3"
                                        style="z-index: 999999999999999999999999999999999" id="3" name="10 credits"
                                        credits="">

                                        <div class="promo">
                                            <span class="badge badge-danger prix_barre">19.99 €</span>
                                        </div>

                                        <div class="d-flex align-items-center">
                                            <div class="crd">10<small> Crédit</small></div>
                                            <div class="pack">Pack évidence <small></small>
                                            </div>
                                            <div class="price">14.99<small>€</small></div>
                                        </div>

                                    </span>
                                    <div class="text-center pl-3 pr-3 mt-20" id="btn_confirm3">
                                        <button type="button" class="btn btn-success btn-lg btn-block pl-3 pr-3"
                                            onclick="pay_confirm_paiement('3' ,'0' , 1)">Valider</button>
                                    </div>
                                    <div class="text-center mt-10">
                                        <button type="button" class="btn btn-light ml-2"
                                            onclick="retour_liste_forfait('3')">Retour</button>
                                    </div>

                                    <div class="text-center mt-10" id="message_success3">

                                    </div>
                                </div>

                                <div class="modal-footer"></div>
                            </div>
                        </div>
                    </div>
                    <!-- Fin Addon Modal 07/09/2021 -->
                </div>



                <div id="modal_body_confirm">

                    <a href="#" data-toggle="modal" id="confirmSelectModal4" data-target="#confirmSelect4">
                    </a>
                    <!-- Modification Modal 17/09/2021 -->
                    <div class="modal forfait fade" id="confirmSelect4" tabindex="-1" role="dialog"
                        aria-labelledby="creditModalLabel" aria-hidden="true">
                        <div style="display: none;" id="tampon_modal_forfaits"></div>
                        <div class="modal-dialog modal-sm" role="document">
                            <div class="modal-content">

                                <div class="modal-header">
                                    <h1 class="modal-title" id="exampleModalLabel">PACK VOYANCE <br>
                                        <font size="2em">(Vos crédits actuels: <span id="nbre_credits">1</span>)</font>
                                    </h1>
                                    <button type="button" id="close_confirm_paiement4" class="close"
                                        onclick="close_confirm('4')">
                                        <span aria-hidden="true"><i class="fas fa-times"></i></span>
                                    </button>
                                </div>

                                <div class="modal-body">
                                    <div class="text-center">
                                        <h2>Vous avez sélectionné :</h2>
                                    </div>
                                    <span class="lien_forfait forfait4"
                                        style="z-index: 999999999999999999999999999999999" id="4" name="25 credits"
                                        credits="">

                                        <div class="promo">
                                            <span class="badge badge-danger prix_barre">49.99 €</span>
                                        </div>

                                        <div class="d-flex align-items-center">
                                            <div class="crd">25<small> Crédit</small></div>
                                            <div class="pack">Pack certitude <small></small>
                                            </div>
                                            <div class="price">29.99<small>€</small></div>
                                        </div>

                                    </span>
                                    <div class="text-center pl-3 pr-3 mt-20" id="btn_confirm4">
                                        <button type="button" class="btn btn-success btn-lg btn-block pl-3 pr-3"
                                            onclick="pay_confirm_paiement('4' ,'0' , 1)">Valider</button>
                                    </div>
                                    <div class="text-center mt-10">
                                        <button type="button" class="btn btn-light ml-2"
                                            onclick="retour_liste_forfait('4')">Retour</button>
                                    </div>

                                    <div class="text-center mt-10" id="message_success4">

                                    </div>
                                </div>

                                <div class="modal-footer"></div>
                            </div>
                        </div>
                    </div>
                    <!-- Fin Addon Modal 07/09/2021 -->
                </div>



                <div id="modal_body_confirm">

                    <a href="#" data-toggle="modal" id="confirmSelectModal5" data-target="#confirmSelect5">
                    </a>
                    <!-- Modification Modal 17/09/2021 -->
                    <div class="modal forfait fade" id="confirmSelect5" tabindex="-1" role="dialog"
                        aria-labelledby="creditModalLabel" aria-hidden="true">
                        <div style="display: none;" id="tampon_modal_forfaits"></div>
                        <div class="modal-dialog modal-sm" role="document">
                            <div class="modal-content">

                                <div class="modal-header">
                                    <h1 class="modal-title" id="exampleModalLabel">PACK VOYANCE <br>
                                        <font size="2em">(Vos crédits actuels: <span id="nbre_credits">1</span>)</font>
                                    </h1>
                                    <button type="button" id="close_confirm_paiement5" class="close"
                                        onclick="close_confirm('5')">
                                        <span aria-hidden="true"><i class="fas fa-times"></i></span>
                                    </button>
                                </div>

                                <div class="modal-body">
                                    <div class="text-center">
                                        <h2>Vous avez sélectionné :</h2>
                                    </div>
                                    <span class="lien_forfait forfait5"
                                        style="z-index: 999999999999999999999999999999999" id="5" name="50 credits"
                                        credits="">

                                        <div class="promo">
                                            <span class="badge badge-danger prix_barre">99.99 €</span>
                                        </div>

                                        <div class="d-flex align-items-center">
                                            <div class="crd">50<small> Crédit</small></div>
                                            <div class="pack">Pack résolution <small></small>
                                            </div>
                                            <div class="price">49.99<small>€</small></div>
                                        </div>

                                    </span>
                                    <div class="text-center pl-3 pr-3 mt-20" id="btn_confirm5">
                                        <button type="button" class="btn btn-success btn-lg btn-block pl-3 pr-3"
                                            onclick="pay_confirm_paiement('5' ,'0' , 1)">Valider</button>
                                    </div>
                                    <div class="text-center mt-10">
                                        <button type="button" class="btn btn-light ml-2"
                                            onclick="retour_liste_forfait('5')">Retour</button>
                                    </div>

                                    <div class="text-center mt-10" id="message_success5">

                                    </div>
                                </div>

                                <div class="modal-footer"></div>
                            </div>
                        </div>
                    </div>
                    <!-- Fin Addon Modal 07/09/2021 -->
                </div>



            </div>



            <!-- <script src=""></script> -->
            <script type="text/javascript">
                function retour_liste_forfait(id_forfait) {
                    $('#close_confirm_paiement' + id_forfait).trigger("click");
                    $('#button_creditModal1').trigger("click");
                }

                function reload_modal_confirm_paiement() {
                    $.ajax({
                        url: 'https://www.unevoyante.fr/index.php/Client_controller/get_new_modal_forfait_22_09_2021',
                        type: 'POST',
                        data: { id_client: '16168' },
                        // response contient le nombre de clients en attente
                        success: function (response) {
                            $('#modal_body_confirm').html(response);
                            real_modal_content_confirm_paiement = response;
                        },
                        error: function () {
                            //alert('veuillez verifier votre connexion internet');
                        }
                    });
                }


                $(function () {
                    //lorsque la page est prete, on sauvegarde la liste des forfaits 
                    real_modal_content = $('#modal_body_confirm').html();

                    nbre_promotions = "0";
                    //on enregistre le token
                    token = "" + "A4-25f24677-10ef-428b-9cd1-56fb4abf073e";

                    reload_modal_confirm_paiement();
                });

                function transform_html_new(id, credits, prix) {
                    alert('toto');
                }


                //lorsqu'on clique sur le boutton du OneClick payment
                function pay_confirm_paiement(idt, credits_promo = 0, nbre_transaction) {
                    console.log(nbre_transaction);
                    //on affiche le loading
                    $('#btn_confirm' + idt).html('<center><IMG style="z-index: 1000;" src="https://www.unevoyante.fr/assets/pictures/chargement.gif"  height="50px"></center>');
                    //alert(id);
                    //setTimeout('pay_eff('+idt+', '+credits_promo+')', 1);

                    // on appelle en fonction du statut_3ds(0 or 1) la oneclick sans 3ds ou avec 3ds 

                    //FORCING DU FULL 3DS

                    nbre_transaction = 1;

                    if (nbre_transaction == 0 && idt != 5) {
                        setTimeout('pay_eff_confirm_paiement(' + idt + ', ' + credits_promo + ' , ' + nbre_transaction + ')', 1);
                    }
                    if (nbre_transaction == 1 || idt == 5) {
                        //setTimeout('pay_eff_confirm_paiement('+idt+', '+credits_promo+' , '+nbre_transaction+')', 1);
                        window.location.href = "https://www.unevoyante.fr/index.php/Payments_controller/TROISDSoneClickPayment/" + idt + "/" + credits_promo + "/" + nbre_transaction;
                    }

                }


                function pay_eff_confirm_paiement(idt, credits_promo, nbre_transaction) {
                    //var tonQ = $(idt).attr('id');
                    //alert($('#input_'+tonQ).val());
                    //var id_forfait2 = $('#input_'+tonQ).val();
                    var id_forfait2 = idt;
                    var statut_3ds = nbre_transaction;
                    //alert(idt);
                    $('#btn_confirm' + idt).html('<center><IMG style="z-index: 1000; color:red;" src="https://www.unevoyante.fr/assets/pictures/chargement.gif"  height="50px"></center>');

                    $.ajax({
                        url: 'https://www.unevoyante.fr/index.php/Payments_controller/process3',
                        type: 'POST',
                        data: { id_forfait: id_forfait2, credits_promo: credits_promo, statut_3ds: statut_3ds },
                        // response contient le nombre de clients en attente
                        success: function (response) {
                            //$('#modal_id').html('<center>'+response+'</center>');
                            //show_forfaits();
                            XMLresponse = $.parseXML(response);
                            $xmlDocument = $(XMLresponse);
                            var message_sucess = $xmlDocument.find("message_sucess").text();
                            var execode = $xmlDocument.find("execode").text();
                            var transaction_id = $xmlDocument.find("transaction_id").text();
                            var prix = $xmlDocument.find("prix").text();
                            $('#btn_confirm' + idt).html('<center>' + message_sucess + '</center>');
                            if (execode == '0000') {

                                gtag('event', 'conversion', {
                                    'send_to': 'AW-984833646/2yfBCJux3PkBEO68zdUD',
                                    'value': prix,
                                    'currency': 'EUR',
                                    'transaction_id': transaction_id
                                });

                            }

                            if (execode == '2020') {
                                window.location.href = "https://www.unevoyante.fr/index.php/Client_controller/reset_cb/?data=expired";

                            } else if (execode == "4005" || execode == "4013" || execode == "4019" || execode == "4016") {
                                window.location.href = "https://www.unevoyante.fr/index.php/Client_controller/reset_cb/?data=fraud";

                            } else if (execode == '0001') {

                                window.location.href = "https://www.unevoyante.fr/index.php/Payments_controller/TROISDSoneClickPayment/" + idt + "/" + credits_promo + "/" + nbre_transaction;

                            } else {

                                //show_forfaits_confirm_paiement();
                                //reload_modal_confirm_paiement();
                                setTimeout('location.reload()', 4000);
                                window.setTimeout('show_forfaits_confirm_paiement_test(' + id_forfait2 + ')', 3000, null, null);
                            }

                        },
                        error: function (sdfgh) {
                            alert("echec! veuillez verifier votre connexion");

                        }

                    });
                }


                //raffraichir la liste des forfaits du modal
                function show_forfaits_confirm_paiement() {
                    //reload_print_credits();
                    $('#modal_id').fadeTo(7000, 0);
                    setTimeout(function () {
                        $.ajax({
                            url: 'https://www.unevoyante.fr/index.php/Client_controller/get_new_modal_forfait',
                            type: 'POST',
                            data: { id_client: '16168' },
                            // response contient le nombre de clients en attente
                            success: function (response) {
                                $('#modal_id').html(response);
                                $('#modal_id').fadeTo(500, 1);
                            },
                            error: function (sdfgh) {
                                alert("echec! veuillez verifier votre connexion");
                            }

                        });

                    }, 7000);

                }

                function show_forfaits_confirm_paiement_test(id) {
                    //$('#btn_confirm'+id).html('<button type="button" class="btn btn-success btn-lg btn-block pl-3 pr-3" onclick="pay_confirm_paiement('+id+' , 0 , 0)"> VALIDER</button> ');
                    $('#close_confirm_paiement' + id).trigger('click');
                    window.setTimeout('reload_modal_confirm_paiement()', 2000, null, null);

                }





            </script>


            <script type="text/javascript">

                function close_confirm(id) {
                    console.log('closeeeeeeeeeeeeeeeeeeeee' + id)
                    $('#confirmSelectModal' + id).trigger('click');
                    $('#close_modal_paiement').trigger('click');
                    //$('#creditModal').modal();
                }

            </script>




            <!-- fin -->




            <style>
                * {
                    -webkit-box-sizing: border-box;
                    -moz-box-sizing: border-box;
                    box-sizing: border-box;
                    outline: none;
                }

                html {
                    overflow: hidden;
                    overflow-y: auto;
                }

                body {
                    overflow: hidden;
                    font-size: 16px;
                    color: #62676B;
                    line-height: 1.4;
                    -webkit-font-smoothing: antialiased;
                    -moz-osx-font-smoothing: grayscale;
                    font-weight: 400;
                }

                html,
                body,
                button,
                input,
                select,
                textarea {
                    font-family: 'Roboto', sans-serif;
                }

                article,
                aside,
                figcaption,
                figure,
                footer,
                header,
                nav,
                section {
                    display: block;
                }

                h1,
                h2,
                h3,
                h4,
                h5,
                h6,
                .h1,
                .h2,
                .h3,
                .h4,
                .h5,
                .h6,
                address,
                p,
                hr {
                    margin: 0;
                    margin-bottom: 15px;
                }

                nav ul,
                nav ol {
                    list-style: none;
                    list-style-image: none;
                }

                ol,
                ul,
                li>ul,
                li>ol {
                    margin: 0;
                }

                h1,
                h2,
                h3,
                h4,
                h5,
                h6 {
                    font-family: 'Roboto', sans-serif;
                    line-height: 1.1;
                }

                h1 {
                    font-size: 30px;
                    font-weight: 700;
                    color: #333333;
                }

                h2 {
                    font-size: 24px;
                    font-weight: 700;
                    color: #333333;
                }

                h3 {
                    font-size: 22px;
                    font-weight: 700;
                    color: #333333;
                }

                h4 {
                    font-size: 20px;
                    font-weight: 500;
                    color: #333333;
                }

                h5,
                h6 {
                    font-size: 18px;
                    font-weight: 500;
                    color: #444444;
                }

                a,
                a:visited {
                    text-decoration: none;
                    transition: all 0.4s ease-in-out 0s;
                    color: #EA3D36;
                }

                a:hover,
                a:focus,
                a:active {
                    text-decoration: none;
                    outline: none;
                    color: #D02841;
                }

                .uppercase {
                    text-transform: uppercase;
                }

                .text-italic {
                    font-style: italic;
                }

                .text-normal {
                    font-style: normal;
                }

                .text-underline {
                    font-style: underline;
                }

                img {
                    max-width: 100%;
                }

                .hidden {
                    display: none;
                }

                .fw700 {
                    font-weight: 700;
                }

                .clearfix:before,
                .clearfix:after {
                    content: " ";
                    display: table;
                }

                .clearfix:after {
                    clear: both;
                }

                .wrapper,
                .page-wrapper,
                .relative {
                    position: relative;
                }

                .align-row-spacearound {
                    display: flex;
                    flex-flow: row;
                    align-items: center;
                    justify-content: space-around;
                }

                .align-row-spacebetween {
                    display: flex;
                    flex-flow: row;
                    align-items: center;
                    justify-content: space-between;
                }

                .align-center-center {
                    display: flex;
                    flex-flow: column;
                    align-items: center;
                    justify-content: center;
                }

                .align-center-bottom {
                    display: flex;
                    flex-flow: column;
                    align-items: center;
                    justify-content: flex-end;
                }

                .transition-3s {
                    -webkit-transition: all 0.3s linear;
                    -moz-transition: all 0.3s linear;
                    -ms-transition: all 0.3s linear;
                    -o-transition: all 0.3s linear;
                    transition: all 0.3s linear;
                }

                .d-inline {
                    display: inline-block;
                }

                /*
.container {
max-width: 1200px;
}
*/

                /*------ MODAL -----*/
                #modalJourChoix1 .modal-content {
                    background-image: url('https://www.unevoyante.fr/assets/client/modal_paiement/choix_modal1/img/213.jpg');
                    background-repeat: no-repeat;
                    background-position: center center;
                    background-size: cover;
                }

                .jour {
                    z-index: 30;
                    position: relative;
                }

                #modalJourChoix1 .chrono {
                    position: relative;
                    display: inline-block;
                    background-image: url('https://www.unevoyante.fr/assets/client/modal_paiement/choix_modal1/img/bg-timer.png');
                    background-repeat: no-repeat;
                    background-position: center center;
                    width: 133px;
                    height: 120px;
                    background-size: cover;
                    line-height: 0.7;
                    margin: 0 0 -15px;
                }

                #modalJourChoix1 .chrono .timerChoix1 {
                    font-size: 40px;
                    margin: 35px 0 0;
                    padding: 4px 5px 0 0;
                    font-weight: 900;
                    color: #fff;
                }

                #modalJourChoix1 .chrono small {
                    font-size: 70%;
                    color: #fff;
                }

                #modalJourChoix1 .modal-body.offre img.img-fluid {
                    margin: -35px auto -15px !important;
                    padding: 0 !important;
                    z-index: 30;
                }

                #modalJourChoix1 .seconde {
                    position: absolute;
                    left: 0;
                    right: 0;
                    color: #fff;
                }

                #modalJourChoix1 .modal-footer {
                    justify-content: center;
                    border-top: none;
                }

                #modalJourChoix1 a.btn-secondary,
                #modalJourChoix1 a.btn-secondary:visited,
                #modalJourChoix1 .btn-secondary {
                    color: #fff;
                    background-color: #848B91;
                    border-color: #fff;
                    border-width: 2px;
                }

                #modalJourChoix1 .btn-secondary:hover {
                    color: #fff;
                    background-color: #6C757D;
                    border-color: #fff;
                }

                #modalJourChoix1 a.btn-success,
                #modalJourChoix1 a.btn-success:visited,
                #modalJourChoix1 .btn-success {
                    color: #fff !important;
                    border-color: #fff;
                    border-width: 2px;
                }

                #modalJourChoix1 .btn-success:hover {
                    color: #fff;
                    border-color: #fff;
                }

                @media (min-width:992px) {
                    #modalJourChoix1 .modal-dialog {
                        margin: 1.75rem 40px 0 auto;
                    }
                }

                /* @media all and (max-device-width:480px){
    #modalJourChoix1 .modal-dialog {
        max-height: 80vH!important;
    }

} */
                @media screen and (-webkit-min-device-pixel-ratio:0) and (min-resolution:.001dpcm) and (max-device-width:480px) {
                    @supports (-webkit-touch-callout: none) {
                        * {
                        box-sizing: border-box;
                    }

                    body {
                        height: 100vh;
                        max-height: 100vh;
                        min-height: 100vh;
                        overflow: hidden;
                        position: relative;
                    }

                    #wrapper {
                        padding-top: 80px;
                        height: 100vh;
                        max-height: 100vh;
                        min-height: 100vh;
                        overflow-y: auto;
                        overflow-x: hidden;
                    }
}
                    
                    /* .modal {
                        top: 0px !important;
                    } */
                }

                /* @media screen and (-webkit-min-device-pixel-ratio:0) and (min-resolution:.001dpcm) {
    .chrome {
        property: value;
    }
} */
            </style>
            <div id="wrapper" class="wrapper">

                <!-- CODE HTML MODAL -->
                <div id="modalJourChoix1" class="modal fade" tabindex="-1" style="display: none;" aria-hidden="true">
                    <div class="modal-dialog modal-sm">
                        <div class="modal-content">



                            <div class="modal-body offre text-center">


                                <div class="jour">
                                    <img src="https://www.unevoyante.fr/assets/client/modal_paiement/choix_modal1/img/modale1-15Cr.png"
                                        alt="" class="img-fluid">
                                </div>
                                <div class="chrono">
                                    <div id="timerChoix1" class="timerChoix1">01</div>
                                    <small>secondes</small>
                                </div>
                            </div>
                            <div class="modal-footer text-center" style="margin-top: -15px;">
                                <button type="button" class="btn btn-secondary btn-sm uppercase" data-dismiss="modal"
                                    onclick="refuser_modalchoix1()">JE REFUSE</button>
                                <button type="button" class="btn btn-success btn-lg uppercase fw700"
                                    id="accepter_modalchoix1" onclick="accepter_modalchoix1()">J'ACCEPTE</button>
                                <button type="button" class="btn btn-success uppercase" id="btn_close_modalChoix1"
                                    data-dismiss="modal" style="display:none"></button>

                            </div>
                            <div id="loading_modalchoix1" style="display: none ; margin-top: -15px;"
                                class="spinner-border text-primary" role="status">
                                <span class="sr-only">Loading...</span>
                            </div>
                            <div class="modal-body" id="message_sucess" style="color:green"></div>


                        </div>
                    </div>
                </div>
                <!-- // -->


            </div>

            <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
            <script
                src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>

            <!-- SCRIPT MODAL -->
            <script type="text/javascript">
                //     $(window).on('load',function(){
                //         $('#modalJourChoix1').modal({
                //        show: true,	
                //        backdrop: 'static',
                //        keyboard: false
                //        })
                //    });

                $(document).ready(function () {
                    var seconds = 30;
                    var el = document.getElementById("timerChoix1");
                    function incrementSeconds() {
                        seconds -= 1;
                        if (seconds >= 1) {
                            el.innerText = (seconds < 10 ? "0" : "") + seconds;
                        }
                    }
                    var cancel = setInterval(incrementSeconds, 1000);

                    function cacher_modalChoix1() {
                        $('#btn_close_modalChoix1').trigger('click');
                    }

                    setTimeout(cacher_modalChoix1, 31000);

                });
            </script>
            <!-- // --><!-- nouveau modal upsell -->
            <style>
                #modalcadeau .modal-content {
                    background-image: url("https://www.unevoyante.fr/assets/upsell/img/113.jpg");
                    background-repeat: no-repeat;
                    background-position: center center;
                    background-size: cover;
                }


                #modalcadeau .modal-header {
                    border-bottom: none;
                    padding: 10px 0 0;
                }

                #modalcadeau .modal-header .logo {
                    position: relative;
                    margin: 0 auto;
                    max-width: 150px;
                    height: auto;
                }

                #modalcadeau .chrono_popup_cadeau {
                    position: relative;
                    display: inline-block;
                    background-image: url('https://www.unevoyante.fr/assets/upsell/img/bg-timer.png');
                    background-repeat: no-repeat;
                    background-position: center center;
                    width: 100px;
                    height: 100px;
                    background-size: cover;
                    line-height: 0.7;
                    margin: -10px 0 -15px;
                }

                #modalcadeau .chrono_popup_cadeau .timer_popup_cadeau {
                    font-size: 36px;
                    margin: 30px 0 0;
                    padding: 4px 5px 0 0;
                    font-weight: 900;
                    color: #00CC00;
                }

                #modalcadeau .chrono_popup_cadeau small {
                    font-size: 70%;
                }

                #modalcadeau .modal-body.offre img.img-fluid {
                    margin: -25px auto -15px !important;
                    padding: 0 !important;
                    z-index: 2;
                }

                #modalcadeau .modal-footer {
                    justify-content: center;
                    border-top: none;
                }

                #modalcadeau a.btn-secondary,
                #modalcadeau a.btn-secondary:visited,
                #modalcadeau .btn-secondary {
                    color: #fff;
                    background-color: #848B91;
                    border-color: #fff;
                    border-width: 2px;
                }

                #modalcadeau .btn-secondary:hover {
                    color: #fff;
                    background-color: #6C757D;
                    border-color: #fff;
                }

                #modalcadeau a.btn-success,
                #modalcadeau a.btn-success:visited,
                #modalcadeau .btn-success {
                    color: #fff !important;
                    border-color: #fff;
                    border-width: 2px;
                }

                #modalcadeau .btn-success:hover {
                    color: #fff;
                    border-color: #fff;
                }

                @media (min-width:992px) {
                    #modalcadeau .modal-dialog {
                        margin: 1.75rem 40px 0 auto;
                    }
                }
            </style>
            <!-- CODE HTML MODAL -->
            <div id="wrapper" class="wrapper">
                <div id="modalcadeau" class="modal fade" tabindex="-1">
                    <div class="modal-dialog modal-sm">
                        <div class="modal-content">
                            <!-- <div class="modal-header text-center">
                            <img src="" alt="Unevoyante.fr" class="logo"/>
                        </div> -->


                            <div class="modal-body offre text-center">

                                <div class="chrono_popup_cadeau">
                                    <div id="timer_popup_cadeau" class="timer_popup_cadeau"></div>
                                    <small>secondes</small>
                                </div>
                                <div class="jour">
                                    <!-- <img src="img/offre-113.png" alt="" class="img-fluid"> -->
                                    <img src="https://www.unevoyante.fr/assets/upsell/img/promo_cadeaux-3.png" alt=""
                                        class="img-fluid">
                                </div>
                            </div>
                            <div class="modal-footer text-center">
                                <!-- <button type="button" class="btn btn-secondary btn-sm uppercase" onclick="refuser_promo_popup_cadeau()">JE REFUSE</button>
                            <button type="button" class="btn btn-success btn-lg uppercase fw700">J'ACCEPTE</button> -->

                                <button type="button" class="btn btn-secondary uppercase"
                                    onclick="refuser_promo_popup_cadeau()">JE REFUSE</button>
                                <button type="button" class="btn btn-success btn-lg uppercase fw700"
                                    id="btn_accepter_popup_cadeau"
                                    onclick="accepter_promo_popup_cadeau()">J'ACCEPTE</button>

                                <button type="button" class="btn btn-success uppercase" id="btn_close_popup_cadeau"
                                    data-dismiss="modal" style="display:none"></button>

                            </div>
                            <div id="loading_popup_cadeau" style="display: none" class="spinner-border text-primary"
                                role="status">
                                <span class="sr-only">Loading...</span>
                            </div>
                            <div class="modal-body" id="message_sucess_popup_cadeau" style="color:green"></div>
                        </div>
                    </div>
                </div>
            </div>


            <!-- // -->
            <!-- fin  -->

            <script type="text/javascript">
                let secondes_popup_cadeau = 31;
                let timer_popup_cadeau = document.getElementById("timer_popup_cadeau");


                $(function () {

                    var promo = "2023-01-10";
                    var d = new Date();
                    var d_promo = new Date(promo);
                    var date_actuelle = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate();
                    var date_promo = d_promo.getFullYear() + '-' + (d_promo.getMonth() + 1) + '-' + d_promo.getDate();
                    if (date_actuelle != date_promo && "VERT" == "VERT") {


                    } else {
                        $('#bloc_lottie_popup').remove();
                    }

                });


                $('#lottie_popup').click(function () {

                    incrementSeconds_popup_cadeau();
                    setInterval(incrementSeconds_popup_cadeau, 1000);
                    $('#bloc_lottie_popup').remove();

                })

                $(function () {
                    setTimeout(cacher_popup_cadeau, 37000);
                })
                function incrementSeconds_popup_cadeau() {
                    secondes_popup_cadeau -= 1;
                    if (secondes_popup_cadeau >= 1) {
                        timer_popup_cadeau.innerText = (secondes_popup_cadeau < 10 ? "0" : "") + secondes_popup_cadeau;
                    }
                }

                //  var cancel_popup_cadeau = setInterval(incrementSeconds_popup_cadeau,1000);

                function cacher_popup_cadeau() {
                    $('#btn_close_popup_cadeau').trigger('click');
                }



                function accepter_promo_popup_cadeau() {
                    $('#btn_accepter_popup_cadeau').attr('disabled', 'disabled');
                    $('#loading_popup_cadeau').css('display', '');

                    var nbre_transaction = '1';

                    // FORCING full 3DS 
                    nbre_transaction = 1;

                    if (nbre_transaction == 1) {
                        var idt = 10;
                        var credits_promo = 0;
                        window.location.href = "https://www.unevoyante.fr/index.php/Payments_controller/TROISDSoneClick_PROMO/" + idt + "/" + credits_promo + "/" + nbre_transaction;
                        return;
                    }

                    $.ajax({
                        url: 'https://www.unevoyante.fr/index.php/Payments_controller/process_popup_cadeau',
                        type: 'POST',
                        data: {},
                        success: function (response) {
                            XMLresponse = $.parseXML(response);
                            $xmlDocument = $(XMLresponse);
                            var message_sucess = $xmlDocument.find("message_sucess").text();

                            $('#message_sucess_popup_cadeau').html('<center>' + message_sucess + '</center>');

                            $('#loading_popup_cadeau').css('display', 'none');

                            setTimeout(cacher_popup_cadeau, 6000);
                            setTimeout(location.reload(), 10000);

                            var execode = $xmlDocument.find("execode").text();
                            var transaction_id = $xmlDocument.find("transaction_id").text();
                            var prix = $xmlDocument.find("prix").text();
                            if (execode == '0000') {

                                gtag('event', 'conversion', {
                                    'send_to': 'AW-984833646/2yfBCJux3PkBEO68zdUD',
                                    'value': prix,
                                    'currency': 'EUR',
                                    'transaction_id': transaction_id
                                });

                            } else if (execode == '0001') {

                                window.location.href = "https://www.unevoyante.fr/index.php/Payments_controller/TROISDSoneClickPayment/" + "10" + "/0/" + "1";

                            }

                        },
                        error: function () {
                            $('#loading_popup_cadeau').css('display', 'none');
                        }
                    });

                }

                function refuser_promo_popup_cadeau() {

                    $.ajax({
                        url: 'https://www.unevoyante.fr/index.php/Client_controller/refuse_promotion_cadeau',
                        type: 'POST',
                        data: {},
                        success: function (response) {
                            cacher_popup_cadeau();
                        },
                        error: function () {
                            cacher_popup_cadeau();
                        }
                    });
                    cacher_popup_cadeau();

                }

            </script>



            <button type="button" id="popup_upsell" class="btn btn-primary btn-lg" data-toggle="modal"
                data-target="#modalJour" style="display: none;">
                boutton de bonus
            </button>
            <!-- <button type="button" id="popup_upsell_orange" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#modalorange" style="display: none;">
                boutton de orange
            </button> -->

            <button type="button" id="modal_black_friday" class="btn btn-primary btn-lg" data-toggle="modal"
                data-target="#modalJourFriday" style="display: none;">
                boutton de modalJour_friday
            </button>

            <button type="button" id="modal_noel" class="btn btn-primary btn-lg" data-toggle="modal"
                data-target="#modalJourNoel" style="display: none;">
                boutton de modalJour_noel
            </button>
            <button type="button" id="modal_noel" class="btn btn-primary btn-lg" data-toggle="modal"
                data-target="#modalJourChoix1" style="display: none;">
                boutton de modalchoix1
            </button>
            <button type="button" id="modal_noel" class="btn btn-primary btn-lg" data-toggle="modal"
                data-target="#modalJourChoix2" style="display: none;">
                boutton de modalchoix2
            </button>
            <!-- popup pour upsell -->

            <!-- <div id="wrapper" class="wrapper">
    
        
        <div id="modalPromo" class="modal fade" tabindex="-1">
            <div class="modal-dialog modal-sm">
                <div class="modal-content">
                    <div class="modal-body time">
                        <div class="progress progress-bar-striped bg-secondary">
                            <div class="seconde">30s pour en profiter</div>
                            <div id="dynamic" class="progress-bar active" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                    </div>
                    <div class="modal-body offre text-center">
                        <img src="https://www.unevoyante.fr/assets/upsell/img/offre.png" alt="" class="img-fluid">
                    </div>
                    <div class="modal-footer text-center">
                        <button type="button" class="btn btn-secondary uppercase"  onclick="refuser_promo_upsell()" data-dismiss="modal">JE REFUSE</button>
                        <button type="button" class="btn btn-success uppercase" id="btn_accepter_upsell"  onclick="accepter_promo_upsell()" >J'ACCEPTE</button>

                        <button type="button" class="btn btn-success uppercase" id="btn_close_promo" data-dismiss="modal" style="display:none"></button>
                        
                    </div>
                    <div id="loading_upsel" style="display: none" class="spinner-border text-primary" role="status">
                        <span class="sr-only">Loading...</span>
                    </div>
                    <div class="modal-body" id="message_sucess" style="color:green"></div>
                </div>
            </div>
        </div> -->
            <!-- // -->


            <!-- nouveau modal upsell -->
            <!-- CODE HTML MODAL -->
            <div id="wrapper" class="wrapper">
                <div id="modalJour" class="modal fade" tabindex="-1">
                    <div class="modal-dialog modal-sm">
                        <div class="modal-content">
                            <!--<div class="modal-header text-center">
                            <img src="" alt="Unevoyante.fr" class="logo"/>
                        </div> -->


                            <div class="modal-body offre text-center">

                                <div class="chrono">
                                    <div id="timer" class="timer"></div>
                                    <small>secondes </small>
                                </div>
                                <div class="jour">
                                    <!-- <img src="img/offre-113.png" alt="" class="img-fluid"> -->
                                    <img src="https://www.unevoyante.fr/assets/upsell/img/modif_offre-200.png" alt=""
                                        class="img-fluid">
                                </div>
                            </div>
                            <div class="modal-footer text-center">
                                <!-- <button type="button" class="btn btn-secondary btn-sm uppercase" data-dismiss="modal">JE REFUSE</button>
                            <button type="button" class="btn btn-success btn-lg uppercase fw700">J'ACCEPTE</button> -->

                                <button type="button" class="btn btn-secondary uppercase"
                                    onclick="refuser_promo_upsell()" data-dismiss="modal">
                                    JE REFUSE
                                </button>
                                <button type="button" class="btn btn-success btn-lg uppercase fw700"
                                    id="btn_accepter_upsell" onclick="accepter_promo_upsell()">
                                    J'ACCEPTE
                                </button>

                                <button type="button" class="btn btn-success uppercase" id="btn_close_promo"
                                    data-dismiss="modal" style="display:none"></button>

                            </div>
                            <div id="loading_upsel" style="display: none" class="spinner-border text-primary"
                                role="status">
                                <span class="sr-only">Loading...</span>
                            </div>
                            <div class="modal-body" id="message_sucess" style="color:green"></div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- // -->
            <!-- fin  -->






        </main>
    </div>




    <!--				debut popup formulaire d'informations clients -->
    <!-- Button trigger modal -->
    <button type="button" id="popup_bonus_info" class="btn btn-primary btn-lg" data-toggle="modal"
        data-target="#myModal_info" style="display: none;">
        boutton info
    </button>

    <!-- Modal -->
    <div class="modal fade" id="myModal_info" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="vertical-align: center;margin-top: 10px ">
                <div class="modal-header" style="padding: 15px;">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">×</span></button>
                    <h4 class="modal-title" id="myModalLabel">
                        Pour obtenir vos 10 crédits offerts veuillez remplir ce formulaire et le valider par SMS
                        .</h4>
                </div>
                <div class="modal-body" style="background-image: linear-gradient(to top, #fbc2eb 0%, #a6c1ee 100%);">
                    <form>
                        <div class="form-row">
                            <div class="col">
                                <label>Prenom </label>
                                <input type="text" class="form-control" name="prenom" id="prenom" placeholder=" 	Nom "
                                    required="">
                            </div>
                            <div class="col">
                                <label>Nom </label>
                                <input type="text" class="form-control" name="nom" id="nom" placeholder=" 	Prenom "
                                    required="">
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Date de Naissance </label>
                            <input type="date" class="form-control" name="date_naiss" id="date_naiss" placeholder="Date"
                                required="">
                        </div>

                        <div class="form-group">
                            <label for="inputAddress">Addresse</label>
                            <input type="text" class="form-control" name="address" id="address"
                                placeholder="1234 Main St" required="">
                        </div>
                        <div class="form-row">
                            <div class="col">
                                <label>Rue </label>
                                <input type="text" class="form-control" name="rue" id="rue" placeholder="Rue "
                                    required="">
                            </div>
                            <div class="col">
                                <label>Ville </label>
                                <input type="text" class="form-control" name="ville" id="ville" placeholder="Ville "
                                    required="">
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="col">
                                <label>Code Postal </label>
                                <input type="text" class="form-control" name="code_postal" id="code_postal"
                                    placeholder="Code postal" required="">
                            </div>
                            <div class="col">
                                <label>Numero mobile*</label>
                                <input type="text" class="form-control" name="telephone" id="telephone"
                                    placeholder="Numero mobile" required="">
                                <span style="color: #FF0000">( Mettez un bon numéro nous vous envoyons un sms de
                                    vérification )</span>
                            </div>
                        </div>
                        <div class="form-group text-center">
                            <button type="button" class="btn btn-secondary form-control" onclick="validation()">Valider
                            </button>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <span id="div_error" style="color: red"></span>
                    <button type="button" class="btn btn-default form-control" data-dismiss="modal"
                        id="form_validation_close">Close</button>
                </div>
            </div>
        </div>
    </div>
    <!--				fin popup formulaire d'informations clients -->

    <!--				modal pour enter le code de verification -->
    <button type="button" id="popup_verification" class="btn btn-primary btn-lg" data-toggle="modal"
        data-target="#myModal_popup_verification" style="display: none;">
        boutton verification code
    </button>

    <!-- Modal -->
    <div class="modal fade" id="myModal_popup_verification" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="vertical-align: center;margin-top: 100px ">
                <div class="modal-header" style="padding: 15px;">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">×</span></button>
                    <h4 class="modal-title" id="myModalLabel">
                        Entrer le code d'activation envoyé sur votre mobile pour obtenir vos 10 credits </h4>
                </div>
                <div class="modal-body" style="background-image: linear-gradient(to top, #fbc2eb 0%, #a6c1ee 100%);">
                    <div class="row" style="margin-left: 30% ; font-size:800%;color:green" id="icon_correct">
                        <img src="" class="logo">
                    </div>
                    <div class="form-group">
                        <label for="exampleFormControlInput1">* Code à 6 chiffres*</label>
                        <input type="text" class="form-control" name="sms_code" id="sms_code"
                            placeholder="Enter le code" required="">
                    </div>
                    <div class="form-group text-center">
                        <button type="button" class="btn btn-primary form-control" onclick="sms_code()">VALIDER VOTRE
                            CODE</button>
                    </div>
                    <div class="form-group text-center">
                        <a type="button" style="color:blue" onclick="renvoyer_code()">Renvoyer le code</a>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal" id="btn_close_bonus">Fermer
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!--en verifaction modal-->






    <div id="sound" style="display: none;"></div>



    <!-- SCRIPTS -->
    <!-- <script src=""></script>
    <script src=""> -->
    <!-- <script src="https://www.unevoyante.fr/assets/client/js/bootstrap.bundle.min.js"></script>
-->
    <script type="text/javascript">


        var div = document.getElementById('chat');
        div.scrollTop = div.scrollHeight;
        console.log(document.scrollHeight);
        var $target = $('html,body');
        $target.animate({ scrollTop: $target.height() }, 1000);

        // $(function() {
        //   var current_progress = 0;
        //   var interval = setInterval(function() {
        // 	  current_progress += 1.6;
        // 	  $("#dynamic")
        // 	  .css("width", current_progress + "%")
        // 	  .attr("aria-valuenow", current_progress)
        // 	  if (current_progress >= 70)
        // 		  $("#dynamic").css( "background-color", "red");
        // 	  if (current_progress >= 100)
        // 		  clearInterval(interval);

        //   }, 470);
        // });

        //var seconds = 30;
        //var el = document.getElementById("timerNoel");

        //function incrementSeconds() {
        //	seconds -= 1;
        //	if(seconds >=1 ){
        //	el.innerText = ( seconds < 10 ? "0" : "" ) + seconds;
        //	}
        //}
        //var cancel = setInterval(incrementSeconds, 1000);


        //var seconds = 30;
        //var secondes = 35;
        // var secondes_popup_cadeau = 30;
        //var el = document.getElementById("timer");
        //var timer_orange = document.getElementById("timer_orange");

        // var timer_popup_cadeau = document.getElementById("timer_popup_cadeau");
        // function incrementSeconds() {
        // 	seconds -= 1;
        // 	if(seconds >= 1){
        // 	el.innerText = ( seconds < 10 ? "0" : "" ) + seconds;
        // 	}
        // }

        // function incrementSeconds_orange() {
        // 	secondes -= 1;
        // 	if(secondes >= 1){
        // 	timer_orange.innerText = ( secondes < 10 ? "0" : "" ) + secondes;
        // 	}
        // }



        // function incrementSeconds_popup_cadeau() {
        // 	secondes_popup_cadeau -= 1;
        // 	if(secondes_popup_cadeau >= 1){
        // 		timer_popup_cadeau.innerText = ( secondes_popup_cadeau < 10 ? "0" : "" ) + secondes_popup_cadeau;
        // 	}
        // }

        //var cancel = setInterval(incrementSeconds, 1000);
        //var cancel_orange = setInterval(incrementSeconds_orange, 1000);
        // var cancel_popup_cadeau = setInterval(incrementSeconds_popup_cadeau,1000);



        $(document).ready(function () {
            $(function () {

                var promo = "2023-01-11";
                var d = new Date();
                var d_promo = new Date(promo);
                var date_actuelle = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate();
                var date_promo = d_promo.getFullYear() + '-' + (d_promo.getMonth() + 1) + '-' + d_promo.getDate();

                // date_actuelle != date_promo && 
                if ("VERT" == "VERT" && "bon" == "bon") {


                    var nom_modal = "Newmodal1";

                    setTimeout(function () {

                        if (nom_modal.trim() == "Newmodal1") {
                            $('#modalJourChoix1').modal({
                                show: true,
                                backdrop: 'static',
                                keyboard: false
                            });
                        }

                        //if(nom_modal.trim()  == "modal2" && date_promo != date_actuelle){
                        if (nom_modal.trim() == "modal2") {
                            $('#modalJourChoix2').modal({
                                show: true,
                                backdrop: 'static',
                                keyboard: false
                            });
                        }

                        if (nom_modal.trim() == "modal3") {
                            $('#modalJourNoel').modal({
                                show: true,
                                backdrop: 'static',
                                keyboard: false
                            });
                        }
                        if (nom_modal.trim() == "valentin") {
                            $('#modalValentin').modal({
                                show: true,
                                backdrop: 'static',
                                keyboard: false
                            });
                        } else {
                            $('#modalJourNoel').modal({
                                show: true,
                                backdrop: 'static',
                                keyboard: false
                            });
                        }

                    }, 5000);

                    //}

                }
            });
        });

        function mafonction() {
            $('#popup_upsell').trigger('click');
        }
        function mafonction_orange() {
            $('#popup_upsell_orange').trigger('click');
        }

        function cacher_popup() {
            $('#btn_close_promo').trigger('click');
        }
        function cacher_popup_orange() {
            $('#btn_close_promo_orange').trigger('click');
        }
        function cacher_black_friday() {
            $('#btn_close_black_friday').trigger('click');
        }
        function cacher_modal_noel() {
            $('#btn_close_modalNoel').trigger('click');
        }
        function cacher_modalchoix1() {
            $('#btn_close_modalChoix1').trigger('click');
        }
        function cacher_modalchoix2() {
            $('#btn_close_modalchoix2').trigger('click');
        }

        function close_modal_st_valentin() {
            $('#close_modal_st_valentin').trigger('click');
        }

        function refuser_modal3credits() {
            //$('#refuser_modal3credits_btn').trigger('click');
        }



        function accepter_promo_upsell() {
            $('#btn_accepter_upsell').attr('disabled', 'disabled');
            $('#loading_upsel').css('display', '');

            var nbre_transaction = '1';

            // FORCING full 3DS 
            nbre_transaction = 1;

            if (nbre_transaction == 1) {
                var idt = 9;
                var credits_promo = 0;
                window.location.href = "https://www.unevoyante.fr/index.php/Payments_controller/TROISDSoneClick_PROMO/" + idt + "/" + credits_promo + "/" + nbre_transaction;
                return;
            }

            $.ajax({
                url: 'https://www.unevoyante.fr/index.php/Payments_controller/process_upsell',
                type: 'POST',
                data: {},
                success: function (response) {
                    XMLresponse = $.parseXML(response);
                    $xmlDocument = $(XMLresponse);
                    var message_sucess = $xmlDocument.find("message_sucess").text();

                    $('#message_sucess').html('<center>' + message_sucess + '</center>');

                    $('#loading_upsel').css('display', 'none');

                    setTimeout(cacher_popup, 6000);

                    var execode = $xmlDocument.find("execode").text();
                    var transaction_id = $xmlDocument.find("transaction_id").text();
                    var prix = $xmlDocument.find("prix").text();
                    if (execode == '0000') {

                        gtag('event', 'conversion', {
                            'send_to': 'AW-984833646/2yfBCJux3PkBEO68zdUD',
                            'value': prix,
                            'currency': 'EUR',
                            'transaction_id': transaction_id
                        });

                    }

                    if (execode == '2020') {
                        window.location.href = "https://www.unevoyante.fr/index.php/Client_controller/reset_cb/?data=expired";

                    } else if (execode == "4005" || execode == "4013" || execode == "4019" || execode == "4016") {
                        window.location.href = "https://www.unevoyante.fr/index.php/Client_controller/reset_cb/?data=fraud";

                    } else if (execode == '0001') {

                        window.location.href = "https://www.unevoyante.fr/index.php/Payments_controller/TROISDSoneClickPayment/" + "9" + "/" + "0" + "/" + "1";

                    }

                },
                error: function () {
                    $('#loading_upsel').css('display', 'none');
                }
            });

        }


        function accepter_promo_upsell_orange() {
            $('#btn_accepter_upsell_orange').attr('disabled', 'disabled');
            $('#loading_upsel_orange').css('display', '');

            var nbre_transaction = '1';

            // FORCING full 3DS 
            nbre_transaction = 1;

            if (nbre_transaction == 1) {
                var idt = 8;
                var credits_promo = 0;
                window.location.href = "https://www.unevoyante.fr/index.php/Payments_controller/TROISDSoneClick_PROMO/" + idt + "/" + credits_promo + "/" + nbre_transaction;
                return;
            }

            $.ajax({
                url: 'https://www.unevoyante.fr/index.php/Payments_controller/process_upsell_orange',
                type: 'POST',
                data: {},
                success: function (response) {
                    XMLresponse = $.parseXML(response);
                    $xmlDocument = $(XMLresponse);
                    var message_sucess = $xmlDocument.find("message_sucess").text();

                    $('#message_sucess_orange').html('<center>' + message_sucess + '</center>');

                    $('#loading_upsel_orange').css('display', 'none');

                    setTimeout(cacher_popup_orange, 2000);

                    var execode = $xmlDocument.find("execode").text();
                    var transaction_id = $xmlDocument.find("transaction_id").text();
                    var prix = $xmlDocument.find("prix").text();
                    if (execode == '0000') {

                        gtag('event', 'conversion', {
                            'send_to': 'AW-984833646/2yfBCJux3PkBEO68zdUD',
                            'value': prix,
                            'currency': 'EUR',
                            'transaction_id': transaction_id
                        });

                    }

                    if (execode == '2020') {
                        window.location.href = "https://www.unevoyante.fr/index.php/Client_controller/reset_cb/?data=expired";

                    } else if (execode == "4005" || execode == "4013" || execode == "4019" || execode == "4016") {
                        window.location.href = "https://www.unevoyante.fr/index.php/Client_controller/reset_cb/?data=fraud";

                    } else if (execode == '0001') {

                        window.location.href = "https://www.unevoyante.fr/index.php/Payments_controller/TROISDSoneClickPayment/" + "8" + "/" + "0" + "/" + "1";

                    }

                },
                error: function () {
                    $('#loading_upsel_orange').css('display', 'none');
                }
            });

        }

        function accepter_black_friday() {
            $('#accepter_black_friday').attr('disabled', 'disabled');
            $('#loading_black_friday').css('display', '');

            var nbre_transaction = '1';

            // FORCING full 3DS 
            nbre_transaction = 1;

            if (nbre_transaction == 1) {
                var idt = 11;
                var credits_promo = 0;
                window.location.href = "https://www.unevoyante.fr/index.php/Payments_controller/TROISDSoneClick_PROMO/" + idt + "/" + credits_promo + "/" + nbre_transaction;
                return;
            }

            $.ajax({
                url: 'https://www.unevoyante.fr/index.php/Payments_controller/process_black_friday',
                type: 'POST',
                data: {},
                success: function (response) {
                    XMLresponse = $.parseXML(response);
                    $xmlDocument = $(XMLresponse);
                    var message_sucess = $xmlDocument.find("message_sucess").text();

                    $('#message_sucess').html('<center>' + message_sucess + '</center>');

                    $('#loading_black_friday').css('display', 'none');

                    setTimeout(cacher_black_friday, 6000);

                    var execode = $xmlDocument.find("execode").text();
                    var transaction_id = $xmlDocument.find("transaction_id").text();
                    var prix = $xmlDocument.find("prix").text();
                    if (execode == '0000') {

                        gtag('event', 'conversion', {
                            'send_to': 'AW-984833646/2yfBCJux3PkBEO68zdUD',
                            'value': prix,
                            'currency': 'EUR',
                            'transaction_id': transaction_id
                        });

                    }

                    if (execode == '2020') {
                        window.location.href = "https://www.unevoyante.fr/index.php/Client_controller/reset_cb/?data=expired";

                    } else if (execode == "4005" || execode == "4013" || execode == "4019" || execode == "4016") {
                        window.location.href = "https://www.unevoyante.fr/index.php/Client_controller/reset_cb/?data=fraud";

                    } else if (execode == '0001') {

                        window.location.href = "https://www.unevoyante.fr/index.php/Payments_controller/TROISDSoneClickPayment/" + "11" + "/" + "0" + "/" + "1";

                    }

                },
                error: function () {
                    $('#loading_black_friday').css('display', 'none');
                }
            });
        }


        function accepter_modalNoel() {
            $('#accepter_modalNoel').attr('disabled', 'disabled');
            $('#loading_modalNoel').css('display', '');

            var nbre_transaction = '1';

            // FORCING full 3DS 
            nbre_transaction = 1;

            if (nbre_transaction == 1) {
                var idt = 12;
                var credits_promo = 0;
                window.location.href = "https://www.unevoyante.fr/index.php/Payments_controller/TROISDSoneClick_PROMO/" + idt + "/" + credits_promo + "/" + nbre_transaction;
                return;
            }

            $.ajax({
                url: 'https://www.unevoyante.fr/index.php/Payments_controller/process_modalNoel',
                type: 'POST',
                data: {},
                success: function (response) {
                    XMLresponse = $.parseXML(response);
                    $xmlDocument = $(XMLresponse);
                    var message_sucess = $xmlDocument.find("message_sucess").text();

                    $('#message_sucess').html('<center>' + message_sucess + '</center>');

                    $('#loading_modalNoel').css('display', 'none');

                    setTimeout(cacher_modal_noel, 2000);
                    var execode = $xmlDocument.find("execode").text();
                    var transaction_id = $xmlDocument.find("transaction_id").text();
                    var prix = $xmlDocument.find("prix").text();
                    if (execode == '0000') {

                        gtag('event', 'conversion', {
                            'send_to': 'AW-984833646/2yfBCJux3PkBEO68zdUD',
                            'value': prix,
                            'currency': 'EUR',
                            'transaction_id': transaction_id
                        });

                    }

                    if (execode == '2020') {
                        window.location.href = "https://www.unevoyante.fr/index.php/Client_controller/reset_cb/?data=expired";

                    } else if (execode == "4005" || execode == "4013" || execode == "4019" || execode == "4016") {
                        window.location.href = "https://www.unevoyante.fr/index.php/Client_controller/reset_cb/?data=fraud";

                    } else if (execode == '0001') {

                        window.location.href = "https://www.unevoyante.fr/index.php/Payments_controller/TROISDSoneClickPayment/" + "12" + "/" + "0" + "/" + "1";

                    }


                },
                error: function () {
                    $('#loading_modalNoel').css('display', 'none');
                }
            });

        }


        function cacher_modal_3credits() {
            $('#btn_close_modal3credits').trigger('click');
        }


        function accepter_modal3credits() {
            $('#accepter_modal3credits').attr('disabled', 'disabled');
            $('#loading_modal3credits').css('display', '');

            var nbre_transaction = '1';

            // FORCING full 3DS 
            nbre_transaction = 1;

            if (nbre_transaction == 1) {
                var idt = 16;
                var credits_promo = 0;
                window.location.href = "https://www.unevoyante.fr/index.php/Payments_controller/TROISDSoneClick_PROMO/" + idt + "/" + credits_promo + "/" + nbre_transaction;
                return;
            }

            $.ajax({
                url: 'https://www.unevoyante.fr/index.php/Payments_controller/process_modal3credits',
                type: 'POST',
                data: {},
                success: function (response) {
                    XMLresponse = $.parseXML(response);
                    $xmlDocument = $(XMLresponse);
                    var message_sucess = $xmlDocument.find("message_sucess").text();

                    $('#message_sucess3credits').html('<center>' + message_sucess + '</center>');

                    $('#loading_modal3credits').css('display', 'none');

                    setTimeout(cacher_modal_noel, 2000);
                    var execode = $xmlDocument.find("execode").text();
                    var transaction_id = $xmlDocument.find("transaction_id").text();
                    var prix = $xmlDocument.find("prix").text();
                    if (execode == '0000') {

                        gtag('event', 'conversion', {
                            'send_to': 'AW-984833646/2yfBCJux3PkBEO68zdUD',
                            'value': prix,
                            'currency': 'EUR',
                            'transaction_id': transaction_id
                        });

                    }

                    if (execode == '2020') {
                        window.location.href = "https://www.unevoyante.fr/index.php/Client_controller/reset_cb/?data=expired";

                    } else if (execode == "4005" || execode == "4013" || execode == "4019" || execode == "4016") {
                        window.location.href = "https://www.unevoyante.fr/index.php/Client_controller/reset_cb/?data=fraud";

                    } else if (execode == '0001') {

                        window.location.href = "https://www.unevoyante.fr/index.php/Payments_controller/TROISDSoneClickPayment/" + "16" + "/" + "0" + "/" + "1";

                    }

                    $('#loading_modal3credits').css('display', 'none');

                    setTimeout(cacher_modal_3credits, 3000);

                },
                error: function () {
                    $('#loading_modal3credits').css('display', 'none');
                    setTimeout(cacher_modal_3credits, 3000);
                }
            });

        }




        function accepter_modalchoix1() {
            $('#accepter_modalchoix1').attr('disabled', 'disabled');
            $('#loading_modalchoix1').css('display', '');

            var nbre_transaction = '1';

            // FORCING full 3DS 
            nbre_transaction = 1;

            if (nbre_transaction == 1) {
                var idt = 13;
                var credits_promo = 0;
                window.location.href = "https://www.unevoyante.fr/index.php/Payments_controller/TROISDSoneClick_PROMO/" + idt + "/" + credits_promo + "/" + nbre_transaction;
                return;
            }

            $.ajax({
                url: 'https://www.unevoyante.fr/index.php/Payments_controller/process_modalchoix1',
                type: 'POST',
                data: {},
                success: function (response) {
                    XMLresponse = $.parseXML(response);
                    $xmlDocument = $(XMLresponse);
                    var message_sucess = $xmlDocument.find("message_sucess").text();

                    $('#message_sucess').html('<center>' + message_sucess + '</center>');

                    $('#loading_modalchoix1').css('display', 'none');



                    var execode = $xmlDocument.find("execode").text();
                    var transaction_id = $xmlDocument.find("transaction_id").text();
                    var prix = $xmlDocument.find("prix").text();
                    if (execode == '0000') {

                        gtag('event', 'conversion', {
                            'send_to': 'AW-984833646/2yfBCJux3PkBEO68zdUD',
                            'value': prix,
                            'currency': 'EUR',
                            'transaction_id': transaction_id
                        });

                    }

                    if (execode == '2020') {
                        window.location.href = "https://www.unevoyante.fr/index.php/Client_controller/reset_cb/?data=expired";

                    } else if (execode == "4005" || execode == "4013" || execode == "4019" || execode == "4016") {
                        window.location.href = "https://www.unevoyante.fr/index.php/Client_controller/reset_cb/?data=fraud";

                    } else if (execode == '0001') {

                        window.location.href = "https://www.unevoyante.fr/index.php/Payments_controller/TROISDSoneClickPayment/" + "13" + "/" + "0" + "/" + "1";

                    }

                    setTimeout(cacher_modalchoix1, 1000);

                },
                error: function () {
                    $('#loading_modalchoix1').css('display', 'none');
                }
            });
        }


        function accepter_modalchoix2() {
            $('#accepter_modalchoix2').attr('disabled', 'disabled');
            $('#loading_modalchoix2').css('display', '');

            var nbre_transaction = '1';

            // FORCING full 3DS 
            nbre_transaction = 1;

            if (nbre_transaction == 1) {
                var idt = 14;
                var credits_promo = 0;
                window.location.href = "https://www.unevoyante.fr/index.php/Payments_controller/TROISDSoneClick_PROMO/" + idt + "/" + credits_promo + "/" + nbre_transaction;
                return;
            }

            $.ajax({
                url: 'https://www.unevoyante.fr/index.php/Payments_controller/process_modalchoix2',
                type: 'POST',
                data: {},
                success: function (response) {
                    XMLresponse = $.parseXML(response);
                    $xmlDocument = $(XMLresponse);
                    var message_sucess = $xmlDocument.find("message_sucess").text();

                    $('#message_sucess').html('<center>' + message_sucess + '</center>');

                    $('#loading_modalchoix2').css('display', 'none');



                    var execode = $xmlDocument.find("execode").text();
                    var transaction_id = $xmlDocument.find("transaction_id").text();
                    var prix = $xmlDocument.find("prix").text();
                    if (execode == '0000') {

                        gtag('event', 'conversion', {
                            'send_to': 'AW-984833646/2yfBCJux3PkBEO68zdUD',
                            'value': prix,
                            'currency': 'EUR',
                            'transaction_id': transaction_id
                        });

                    }
                    setTimeout(cacher_modalchoix2, 1000);

                    if (execode == '2020') {
                        window.location.href = "https://www.unevoyante.fr/index.php/Client_controller/reset_cb/?data=expired";

                    } else if (execode == "4005" || execode == "4013" || execode == "4019" || execode == "4016") {
                        window.location.href = "https://www.unevoyante.fr/index.php/Client_controller/reset_cb/?data=fraud";

                    } else if (execode == '0001') {

                        window.location.href = "https://www.unevoyante.fr/index.php/Payments_controller/TROISDSoneClickPayment/" + "14" + "/" + "0" + "/" + "1";

                    }

                },
                error: function () {
                    $('#loading_modalchoix2').css('display', 'none');
                }
            });
        }


        // modal saint valentin accepter l'achat du forfait

        function accepter_modal_st_valentin() {
            $('#accepter_modal_st_valentin').attr('disabled', 'disabled');
            $('#loading_accepter_modal_st_valentin').css('display', '');

            var nbre_transaction = '1';

            // FORCING full 3DS 
            nbre_transaction = 1;

            if (nbre_transaction == 1) {
                var idt = 15;
                var credits_promo = 0;
                window.location.href = "https://www.unevoyante.fr/index.php/Payments_controller/TROISDSoneClick_PROMO/" + idt + "/" + credits_promo + "/" + nbre_transaction;
                return;
            }

            $.ajax({
                url: 'https://www.unevoyante.fr/index.php/Payments_controller/process_st_valentin',
                type: 'POST',
                data: {},
                success: function (response) {
                    XMLresponse = $.parseXML(response);
                    $xmlDocument = $(XMLresponse);
                    var message_sucess = $xmlDocument.find("message_sucess").text();

                    $('#message_sucess_st_valentin').html('<center>' + message_sucess + '</center>');

                    $('#loading_accepter_modal_st_valentin').css('display', 'none');



                    var execode = $xmlDocument.find("execode").text();
                    var transaction_id = $xmlDocument.find("transaction_id").text();
                    var prix = $xmlDocument.find("prix").text();
                    if (execode == '0000') {

                        gtag('event', 'conversion', {
                            'send_to': 'AW-984833646/2yfBCJux3PkBEO68zdUD',
                            'value': prix,
                            'currency': 'EUR',
                            'transaction_id': transaction_id
                        });

                    }

                    if (execode == '2020') {
                        window.location.href = "https://www.unevoyante.fr/index.php/Client_controller/reset_cb/?data=expired";

                    } else if (execode == "4005" || execode == "4013" || execode == "4019" || execode == "4016") {
                        window.location.href = "https://www.unevoyante.fr/index.php/Client_controller/reset_cb/?data=fraud";

                    } else if (execode == '0001') {

                        window.location.href = "https://www.unevoyante.fr/index.php/Payments_controller/TROISDSoneClickPayment/" + "15" + "/" + "0" + "/" + "1";

                    }

                    setTimeout(close_modal_st_valentin, 1000);

                },
                error: function () {
                    $('#loading_accepter_modal_st_valentin').css('display', 'none');
                }
            });
        }



















        function accepter_modal_modifiable() {
            $('#btn_accepter_modal_modifiable').attr('disabled', 'disabled');
            $('#loading_modalmodifiable').css('display', '');

            var nbre_transaction = '1';

            // FORCING full 3DS 
            nbre_transaction = 1;

            if (nbre_transaction == 1) {
                var idt = 17;
                var credits_promo = 0;
                window.location.href = "https://www.unevoyante.fr/index.php/Payments_controller/TROISDSoneClick_PROMO/" + idt + "/" + credits_promo + "/" + nbre_transaction;
                return;
            }

        }


















        function refuser_promo_upsell() {

            $.ajax({
                url: 'https://www.unevoyante.fr/index.php/Client_controller/refuse_promotion_upsell',
                type: 'POST',
                data: {},
                success: function (response) {

                },
                error: function () {

                }
            });

            cacher_popup();
        }

        function refuser_promo_upsell_orange() {

            $.ajax({
                url: 'https://www.unevoyante.fr/index.php/Client_controller/refuse_promotion_upsell',
                type: 'POST',
                data: {},
                success: function (response) {
                    cacher_popup_orange();
                },
                error: function () {
                    cacher_popup_orange();
                }
            });

            //location.reload();
        }


        function refuse_black_friday() {

            $.ajax({
                url: 'https://www.unevoyante.fr/index.php/Client_controller/refuse_promotion_upsell',
                type: 'POST',
                data: {},
                success: function (response) {

                },
                error: function () {

                }
            });

            cacher_black_friday();
        }

        function refuse_modalNoel() {

            $.ajax({
                url: 'https://www.unevoyante.fr/index.php/Client_controller/refuse_promotion_upsell',
                type: 'POST',
                data: {},
                success: function (response) {

                },
                error: function () {

                }
            });

            cacher_modal_noel();
        }

        function refuser_modalchoix1() {
            $.ajax({
                url: 'https://www.unevoyante.fr/index.php/Client_controller/refuse_promotion_upsell',
                type: 'POST',
                data: {},
                success: function (response) {

                },
                error: function () {

                }
            });

            cacher_modalchoix1();
        }

        function refuser_modal_modifiable() {
            $('#btn_close_modalChoix1').trigger('click');
        }

        function refuser_modalchoix2() {
            $.ajax({
                url: 'https://www.unevoyante.fr/index.php/Client_controller/refuse_promotion_upsell',
                type: 'POST',
                data: {},
                success: function (response) {

                },
                error: function () {

                }
            });

            cacher_modalchoix2();
        }






        function forn_bonus() {

            $('#btn_close_bonus').trigger('click');
            $('#popup_bonus_info').trigger('click');

        }
        function validation() {

            var id_client = '16168';
            var nom = $('#prenom').val();
            var prenom = $('#nom').val();
            var date_naiss = $('#date_naiss').val();
            var address = $('#address').val();
            var rue = $('#rue').val();
            var ville = $('#ville').val();
            var cp = $('#code_postal').val();
            var telephone = $('#telephone').val();

            if (telephone != ' ') {

                $.ajax({
                    url: 'https://www.unevoyante.fr/index.php/Client_controller/insertion_promu',
                    type: 'POST',
                    data: { id_client: id_client, nom: nom, prenom: prenom, date_naiss: date_naiss, address: address, rue: rue, ville: ville, cp: cp, telephone: telephone },
                    success: function (response) {

                        $('#form_validation_close').trigger('click');
                        $('#popup_verification').trigger('click');


                    },
                    error: function () {

                    }

                });

            } else {

                $('#div_error').html('Informations manquantes !!!');

            }

        }
        function sms_code() {
            var id_client = '16168';
            var code = $('#sms_code').val();
            $.ajax({
                url: 'https://www.unevoyante.fr/index.php/Client_controller/sms_code',
                type: 'POST',
                data: { id_client: id_client, code: code },
                success: function (response) {

                    var reponse = response.slice(1, 3);
                    if (reponse === "ok") {
                        $('#icon_correct').html('<i class="fas fa-check"></i>');
                    } else {
                        console.log(response);
                    }

                },
                error: function () {

                }

            })

        }
        function renvoyer_code() {
            var id_client = '16168';
            //var code = $('#sms_code').val();
            $.ajax({
                url: 'https://www.unevoyante.fr/index.php/Client_controller/renvoyer_code',
                type: 'POST',
                data: { id_client: id_client },
                success: function (response) {
                    alert('success');
                },
                error: function () {

                }

            })
        }

        $(function () {
            // nbre2 = "1";
            // deja_parle_avec_voyant = -1;
            // if (nbre2 == 0) {
            // 	deja_parle_avec_voyant = 0;
            // }

            id_client_conecte = '16168';

            check_new_message_doit_tourner = true;

            //variable qui sert à resoudre le bug d'affichage des messages 
            just_come_on_the_page = true;

            //variable qui sert Ã  controller le nbre de caractere du message saisi
            caracters = 0;
            //
            last_message_value_at_the_last_tap = '';

            //variable qui contient la derniere valeur du champ 'en_attente' de la conversation en cours
            there_is_a_new_message = 0;

            //
            reaload_by_scrool = false;

            //variable qui permet de savoir quand on vient juste d'envoyer un message
            just_send_a_message = false;

            //on apelle la fonction periodik qui selectionne la valeur du champ 'en_attente' de la conversation en cours

            //var solution_tampon = setInterval(check_new_message, 12000);


            // Ã©couteur du champ de saisie de la reponse pour compter les caracteres
            $("input").keyup(function (key) {
                if (key.which != 13) {
                    if (last_message_value_at_the_last_tap.length < 251) {
                        caracters = $(this).val().length;
                        last_message_value_at_the_last_tap = $('#client_message').val();

                    }
                    if (last_message_value_at_the_last_tap.length >= 251) {
                        alert("impossible d'envoyer une question de plus de 250 caractères");
                        last_message_value_at_the_last_tap = $('#client_message').val().substring(0, caracters - 1)
                        $('#client_message').val(last_message_value_at_the_last_tap);

                        if (key.which == 8) {
                            last_message_value_at_the_last_tap = $('#client_message').val().substring(0, caracters - 1)
                            $('#client_message').val(last_message_value_at_the_last_tap);
                        }

                    }
                }


            });



            //////////////////////////////////////////////////////

            // LANCEMENT DU PROCESS WEBSOCKET


            process_socket();

            function process_socket() {

                console.log("verification de l'etat de la connexion socket...");

                if (conn == null || conn.readyState != WebSocket.OPEN) {
                    connect_socket();
                    console.log("connexion socket fermee");
                    //check_new_message();
                    start_solution_alternative_aux_sockets();
                } else {
                    console.log("connexion socket runing. readyState: " + conn.readyState);
                }

                setTimeout(function () {
                    process_socket();
                }, 10000);
            }


            function start_solution_alternative_aux_sockets() {
                let accepteBrowsersArray = ['Safari'];
                if (accepteBrowsersArray.includes(getBrowserName().name) || (/iPad|iPhone|iPod/.test(navigator.userAgent))) {
                    console.log(/Chrome|iPhone|iPod/.test(navigator.userAgent));

                } else {
                    console.log("//////SOCKETs NON FONCTIONNELs//////");

                    reload_conversation();

                    console.log("//////SOLUTION ALTERNATIVE - refresh avec success/////")
                }

            }


            //lancement du refesh auto comme solution alternative au bug du 24-07-2021
            function alt_bug_24_07_2021() {
                console.log("SOLUTION ALTERNATIVE reload auto")
                reload_conversation();

                setTimeout(alt_bug_24_07_2021, 15000);
            }
            //alt_bug_24_07_2021();

            // detection du navgateur avec lequel le client navigue
            function getBrowserName() {
                let extraction = navigator.userAgent.split(')').reverse()[0].match(/(?!Gecko|Version|[A-Za-z]+?Web[Kk]it)[A-Z][a-z]+\/[\d.]+/g)[0].split('/');

                return {
                    name: extraction[0],
                    version: extraction[1],
                }
            }

            let accepteBrowsersArray = ['Safari'];
            if (accepteBrowsersArray.includes(getBrowserName().name) || (/iPad|iPhone|iPod/.test(navigator.userAgent))) {
                //alt_bug_24_07_2021();
                console.log(/Chrome|iPhone|iPod/.test(navigator.userAgent));
                setInterval(reload_conversation, 15000);
            } else {
                console.log("il ne s'agit pas de safari pas de refresh");
            }





            ////////////////////////////////////////////////////////
            ////////////////////////////////////////////////////////


        });



        //   ------------------script pour les websokect-----------------


        conn = null;

        client = {
            user_id: 16168,
            recipient_id: null,
            type: 'socket',
            token: null,
            message: null,
            id_voyant: $('#id_voyant').val(),
            id_client: "16168",
            type_client: "VERT",
            credit: "1",
            name: "NE PAS REPONDRE",
            last_agent: "",
            date_message: null

        };

        function connect_socket() {

            conn = new WebSocket('wss://nx7379.dynamixhost.com:8282');
            //conn = new WebSocket('ws://localhost:8282');

            conn.onopen = function (e) {
                conn.send(JSON.stringify(client));
                console.log("ouverture de  la connexion socket pour le chat");
                reload_conversation();
            };

            conn.onmessage = function (e) {
                console.log("nouveau message recu sur le chat");
                var data = JSON.parse(e.data);

                //console.log(data);

                var latence_message = "0";

                var id_voyant = $('#id_voyant').val();
                var recipient_id = '16168';

                if (data.message) {
                    if ((data.id_voyant == id_voyant) && (data.recipient_id == recipient_id)) {

                        //$("#chat").append('<div class="bubble1"><p>'+data.message+'</div>');
                        //scroll_messages_to_bottom();
                        if (data.message != undefined) {

                            var start = new Date(data.date_message);
                            var now = new Date(data.date_now);
                            var temps_ecoule_en_secondes = (now - start) / 1000;
                            //console.log("temps écoulé " + temps_ecoule_en_secondes);

                            if (latence_message > temps_ecoule_en_secondes) {
                                let timeToWait = (latence_message - temps_ecoule_en_secondes) * 1000;
                                // console.log("still " + timeToWait + " to wait");

                                //alert("NOUVEAU MESSAGE DE L'AGENT :: latence de "+latence_message+" secondes non depass e. on attend encore "+(latence_message - temps_ecoule_en_secondes)+" secondes avant d'afficher le message")

                                setTimeout(function () {
                                    afficher_message_sur_le_chat(data);
                                }, timeToWait);

                            } else {
                                afficher_message_sur_le_chat(data);
                                //alert("NOUVEAU MESSAGE DE L'AGENT :: latence de "+latence_message+" secondes depass e. on affiche directement la reponse du voyant")
                            }
                        }
                    }
                }

                if (data.type === 'promotion') {
                    //if(data.recipient_id == recipient_id ){
                    //$('#token').html('JWT Token : ' + data.token);
                    //console.log("nouvelle promotion arrivee par socket. refresh de la popup des promos...");
                    //check_new_promo();
                    //scroll_messages_to_bottom();
                    //}

                    if (data.recipient_id == recipient_id) {
                        //$('#token').html('JWT Token : ' + data.token);
                        console.log("nouvelle promotion arrivee par socket. refresh de la popup des promos...");
                        //check_new_promo();
                        var test = !!document.getElementById("bloc_alert");
                        if (!test) {
                            $("#chat").append('<span role="alert" id="bloc_alert" style="color:white ; margin-bottom:70px;">Mathilde est en train d\'ecrire </span>');
                        }

                        scroll_messages_to_bottom();
                    }
                }
            };


            conn.onclose = function (e) {
                console.log("la connexion socket pour le chat s'est fermee. \n reload de la conversation effectue avec succes");
                console.log("CONNEXION SOCKET ONCLOSE PROMISE");
                reload_conversation();
            };

            conn.onerror = function (e) {
                console.log("CONNEXION SOCKET ONERROR PROMISE");
                reload_conversation();
            }
        }

        function playNewMessageSound() {

            var mp3Source = '<source src="https://www.unevoyante.fr/assets/son/notification.mp3" type="audio/mpeg">';
            document.getElementById("sound").innerHTML = '<audio autoplay="autoplay">' + mp3Source + '</audio>';

        }






        function show_modal() {
            $('#creditModal').modal();
        }



        //fonction qui envoie le message dans la bd
        function send_client_message() {
            $('#button-addon2').prop('disabled', true);
            check_new_message_doit_tourner = false;
            $('IMG.loading').show();

            client.type = 'chat_question';

            var client_message = $('#client_message').val();
            var id_voyant = $('#id_voyant').val();
            //si le message n'est pas vide
            if (client_message != '' && client_message != ' ' && client_message != '  ') {
                if (("A4-25f24677-10ef-428b-9cd1-56fb4abf073e" == "0") && ("1" == "0")) {
                    window.location.href = "https://www.unevoyante.fr/index.php/Client_controller/offre_p1";
                }
                if (("A4-25f24677-10ef-428b-9cd1-56fb4abf073e" != "0") && ("VERT" == "ORANGE") && ("1" == "0")) {

                    $('#button-addon2').prop('disabled', false);

                    $('#modalorange').modal({
                        show: true,
                        backdrop: 'static',
                        keyboard: false
                    });
                    //mafonction_orange();

                    $(document).ready(function () {
                        var seconds = 31;
                        var el = document.getElementById("timer_orange");
                        function incrementSeconds_orange() {
                            seconds -= 1;
                            if (seconds >= 1) {
                                el.innerText = (seconds < 10 ? "0" : "") + seconds;
                            }
                        }
                        var cancel = setInterval(incrementSeconds_orange, 1000);

                        function cacher_popup_orange() {
                            $('#btn_close_promo_orange').trigger('click');
                        }

                        setTimeout(cacher_popup_orange, 31000);
                    });


                    $('IMG.loading').hide();

                } else {
                    //si le message ne depasse pas 200 caracteres
                    if (caracters <= 250) {
                        $.ajax({
                            url: 'https://www.unevoyante.fr/index.php/Message_controller/nouveau_message',
                            type: 'POST',
                            data: { message: client_message, id_voyant: id_voyant },
                            success: function (response) {
                                $('#button-addon2').prop('disabled', false);
                                //alert(response);
                                //si le voyant n'a pas encore repondu Ã  la derniere question
                                if (response.indexOf("wait") != -1) {
                                    check_new_message_doit_tourner = true;
                                    alert("Veuillez attendre la réponse à votre derniere question");
                                    $('IMG.loading').hide();
                                } else if (response.indexOf("no_credits") != -1) {
                                    $('IMG.loading').hide();

                                    if ("VERT" == "VERT") {
                                        $('#creditModal').modal();
                                    }
                                    if ("VERT" == "ORANGE") {
                                        $('#popup_upsell_orange').trigger('click');
                                    }
                                    if ("VERT" == "ROUGE") {
                                        window.location.href = "https://www.unevoyante.fr/index.php/Client_controller/offre_p1"
                                    }


                                    //alert('Vous n\'avez pas assez de credits pour poser une question. veuillez en acheter');
                                    check_new_message_doit_tourner = true;
                                } else {
                                    just_send_a_message = true;
                                    //on va un peu tricher
                                    //there_is_a_new_message = !there_is_a_new_message;
                                    $('#div_nouveau_message').css('display', '');
                                    $('#message_alert1').css('display', 'none');
                                    $('#message_alert2').css('display', 'none');

                                    client.date_message = '2023-01-11 03:55:28';



                                    $("#chat").append('<div class="bubble2" style ="margin-bottom:90px;min-width:320px;"><p>' + client_message + '</p></div>');

                                    reload_conversation();
                                    //$('#question_client').html(client_message);
                                    //

                                    //si non, alors le message a bien Ã©tÃ© enregistrÃ© dans la bd, et on peut refresh la conv
                                    //reload_conversation();
                                    reload_print_credits(16168);

                                    //on vide la zonne de saisie
                                    $('#client_message').val('');
                                    $('IMG.loading').hide();

                                    //var nbre_msgs = get_nombre_de_messages_dune_conv(id_voyant);
                                    //alert(nbre_msgs);
                                    // setTimeout('get_nombre_de_messages_dune_conv('+id_voyant+')', 14000);
                                    // 
                                    check_new_message_doit_tourner = true;

                                    if (response == "open_ai_on") {
                                        call_open_ai(client);
                                    } else {
                                        if (!(conn == null || conn.readyState != WebSocket.OPEN)) {
                                            conn.send(JSON.stringify(client));
                                            console.log("message socket send");
                                        }
                                    }

                                }
                                check_new_message_doit_tourner = true;
                            },
                            error: function () {
                                $('#button-addon2').prop('disabled', false);
                                $('#button-addon2').removeAttr("disabled");
                                alert("erreur lors de l'envoi du message");
                                $('IMG.loading').hide();
                                check_new_message_doit_tourner = true;
                            }
                        });

                    } else {
                        $('#button-addon2').prop('disabled', false);
                        $('#button-addon2').removeAttr("disabled");
                        alert("votre question est trop longue! le message doit avoir moins de 200 caracteres");
                        $('IMG.loading').hide();
                        check_new_message_doit_tourner = true;
                    }

                    check_new_message_doit_tourner = true;
                }
                check_new_message_doit_tourner = true;

            } else {
                $('#button-addon2').prop('disabled', false);
                $('#button-addon2').removeAttr("disabled");
                check_new_message_doit_tourner = true;
                alert("veuillez entrer une question");
                $('IMG.loading').hide();
            }
        }



        function call_open_ai(client) {
            $.ajax({
                url: 'https://www.unevoyante.fr/index.php/Message_controller/call_open_ai',
                type: 'POST',
                data: { id_voyant: client.id_voyant, id_client: client.id_client },
                success: function (response) {
                    if (!(conn == null || conn.readyState != WebSocket.OPEN)) {
                        conn.send(JSON.stringify(client));
                        console.log("message socket send");
                    }
                },
                error: function () {

                }
            });
        }

        function send_response(id_client, id_voyant, reponse) {
            $.ajax({
                url: 'https://www.unevoyante.fr/index.php/Message_controller/answer_message',
                type: 'POST',
                data: { id_voyant: id_voyant, id_client: id_client, reponse: reponse },
                success: function (response) {
                    //alert(reponse);
                    //on vide la zone de saisie de la reponse
                    reload_conversation();
                },
                error: function () {

                }
            });
        }

        function send_auto_answer(type_message) {
            var id_client = "16168";
            var id_voyant = $('#id_voyant').val();
            // si c'est 0 on selectionne le premierr message
            $.ajax({
                url: 'https://www.unevoyante.fr/index.php/Dashboard_controller/get_random_message',
                type: 'POST',
                data: { type: type_message },
                success: function (reponse) {
                    send_response(id_client, id_voyant, reponse);
                },
                error: function () {

                }
            });
        }


        //fonction periodik qui selectionne la valeur du champ 'en_attente' de la conversation en cours
        function check_new_message() {
            if (check_new_message_doit_tourner) {
                var id_voyant = $('#id_voyant').val();
                $.ajax({
                    url: 'https://www.unevoyante.fr/index.php/Conversation_controller/check_new_message',
                    type: 'POST',
                    data: { id_voyant: id_voyant, id_client: id_client_conecte, there_is_a_new_message_this: there_is_a_new_message, nom_voyant: 'Mathilde' },
                    //response contient la valeur du champ 'en_attente'
                    success: function (response) {
                        //console.log("reponse: "+response);
                        //console.log("there: "+there_is_a_new_message);
                        //si la nouvelle valeur est differente de l'ancienne valeur, on refresh la conversation


                        XMLresponse = $.parseXML(response);
                        $xmlDocument = $(XMLresponse);
                        var en_attente = $xmlDocument.find("en_attente").text();
                        var avis_client = $xmlDocument.find("avis_client").text();
                        var nom_voyant = $xmlDocument.find("nom_voyant").text();
                        var is_writing = $xmlDocument.find("is_writing").text();
                        var heure_fr_actuelle = $xmlDocument.find("heure_fr_actuelle").text();



                        if (en_attente != there_is_a_new_message) {
                            there_is_a_new_message = en_attente;
                            console.log("sale1");
                            reload_conversation();
                        } else {
                            if (just_come_on_the_page) {
                                console.log("sale2");
                                reload_conversation();
                                just_come_on_the_page = false;
                            }
                        }

                        //process_notifications(nom_voyant, is_writing, heure_fr_actuelle);

                        //setTimeout('check_new_message()', 8000);
                    },
                    error: function () {
                        //setTimeout('check_new_message()', 8000);
                    }
                });
            }
        }


        //fonction qui refresh la conversation(la liste des messages)
        function reload_conversation() {
            //on reccupere l'id du voyant qui se trouve dans un input hidden de la page
            var id_voyant = $('#id_voyant').val();
            var ancien_scroll_height = document.getElementById("chat").scrollHeight;
            $.ajax({
                url: 'https://www.unevoyante.fr/index.php/Client_controller/reload_messages',
                type: 'POST',
                data: { id_voyant: id_voyant, nombre_messages: $('#nombre_messages').text() },
                success: function (response) {
                    var last_notif = $('#span_notifications').html();

                    $('#chat').html(response);

                    //si le voyant n'est pas en train d'écrire
                    // if(response.indexOf('id="span_notifications"></span>') != -1){
                    // 	if(last_notif.indexOf('en train') == -1)
                    // 		//on remet l'ancienne notif qui était là.
                    // 		$('#span_notifications').html(last_notif);
                    // }

                    if (just_come_on_the_page) {
                        //alert("que du sale");
                        scroll_messages_to_bottom();
                        just_come_on_the_page = false;
                    } else {
                        if (reaload_by_scrool == true) {
                            document.getElementById("chat").scrollTop = document.getElementById("chat").scrollHeight - ancien_scroll_height;
                            document.getElementById("chat").scrollbottom = document.getElementById("chat").scrollTop;
                            reaload_by_scrool = false;
                        } else {
                            scroll_messages_to_bottom();
                        }
                        //scrollTo($('#last_message'));
                    }

                    $('IMG.loading').hide();

                    setVu_messages_clientAndVoyant(id_voyant);
                    //setTimeout('reload_conversation()', 6000);
                },
                error: function () {
                    $('IMG.loading').hide();
                    //setTimeout('reload_conversation()', 6000);

                }
            });

        }

        //fonction qui selectionne aaleatoirement un entier entre deux valeurs données
        function entier_aleatoire(min, max) {
            var nbre = Math.floor(Math.random() * (max - min + 1)) + min;
            console.log(nbre);
            return nbre;
        }

        //fonction appelée à chaque check_new_message lance le processus d'affichage des petites
        //notifs qui s'affichent en dessous de la liste des messages (distribué, en train d'écrire, lu à...)
        function process_notifications(nom_voyant, is_writing, heure_fr_actuelle) {
            if (just_send_a_message == true) {
                just_send_a_message = false;
                setTimeout(function () {
                    $('#span_notifications').html("distribué");
                    scroll_messages_to_bottom();

                    var heure = heure_fr_actuelle;
                    if (heure != "3" && heure != "4" && heure != "5" && heure != "6" && heure != "7" && heure != "8") {
                        temps = entier_aleatoire(1, 10);
                        console.log(temps * 1000);
                        setTimeout(function () {
                            var today = new Date();

                            var minutes = today.getMinutes();
                            if (minutes.length == 1)
                                minutes = '0' + minutes;

                            var time = today.getHours() + ":" + minutes;
                            $('#span_notifications').html("lu à" + time);
                            scroll_messages_to_bottom();
                        }, temps * 1000);
                    }

                }, 1000);
            } else {

                if (is_writing == '1') {

                    if ($('#span_notifications').html().indexOf("...") == -1) {
                        $('#span_notifications').html(nom_voyant + "est en train d'écrire...");
                        scroll_messages_to_bottom();
                    }
                } else {
                    if ($('#span_notifications').html().indexOf("...") != -1) {
                        $('#span_notifications').html('');
                    }
                }

            }

        }

        function scroll_messages_to_bottom() {
            document.getElementById("chat").scrollTop = document.getElementById("chat").scrollHeight;
        }

        function setVu_messages_clientAndVoyant(id_voyant) {
            $.ajax({
                url: 'https://www.unevoyante.fr/index.php/Client_controller/setVu_messages_clientAndVoyant',
                type: 'POST',
                data: { id_voyant: id_voyant },
                success: function (response) {

                },
                error: function () {

                }
            });
        }

        //fonction qui reccupere le nombre de credits d'un client donnÃ©
        function reload_print_credits(id_client) {
            $.ajax({
                url: 'https://www.unevoyante.fr/index.php/Payments_controller/get_client_credits',
                type: 'POST',
                data: { id_client: id_client },
                // response contient le nombre de clients en attente
                success: function (response) {
                    $('#nbre_credits').html(response);
                    $('#nbre_credits2').html(response);
                }
            });
        }
        //ecouteur de la touche entree pour l'envoie du message
        $('#client_message').keypress(function (key) {
            if (key.which == 13) {
                send_client_message();
            }
        });

        function Myfonction(objet) {

            var height = objet.scrollHeight;
            var top = objet.scrollTop;
            //alert(height);
            //alert( $('#nombre_messages').text());
            //alert(top);
            if (objet.scrollTop == 0) {
                $('span#chargement').hide();
                var nbre_actuel = parseInt($('#nombre_messages').text());
                var nbre_total = parseInt($('#nbre_total_messages').text());
                if (nbre_total > nbre_actuel) {
                    reaload_by_scrool = true;
                    reload_conversation();
                } else {

                }


            }
        }




        function scrollTo(target) {
            if (target.length) {
                $("html, body").stop().animate({ scrollTop: target.offset().top }, 1500);
            }
        }


        function afficher_message_sur_le_chat(message) {

            $('#bloc_alert').remove();
            $('#chat').append(`
                                <div class="bubble1" style ="margin-bottom:80px;min-width:320px;">
                                    <p id="last_message">${message.message}</p>
                                    <div class="thumbs-box">
                                        <span class="thumb-link thumb-up" id ="last_message_thumb_up" data-id_agent = "${message.id_agent}" data-id_voyant = "${message.id_voyant}" data-id_client = "${message.id_client}" data-contenu = "${message.message}">
                                                <img src="https://www.unevoyante.fr/assets/client/menu_unevoyante/img/icon-thumb-up-green.png" class="thumb-icon thumb-up" alt="Like">
                                        </span>
                                        <span class="thumb-link thumb-down" id ="last_message_thumb_down" data-id_agent = "${message.id_agent}" data-id_voyant = "${message.id_voyant}" data-id_client = "${message.id_client}" data-contenu = "${message.message}">
                                                <img src="https://www.unevoyante.fr/assets/client/menu_unevoyante/img/icon-thumb-down-red.png" class="thumb-icon thumb-down" alt="Dislike">
                                        </span>
                                    </div>			
                                </div>
                            `);

            scroll_messages_to_bottom();

        }

        function thumb_up(id_agent, id_voyant, id_client, reponse_agent_note) {
            //alert(id_agent+'--'+id_voyant+'--'+id_client+'---'+reponse_agent_note);

            $('.thumbs-box').remove();
            var avis = "thumb_up";
            $.ajax({
                url: 'https://www.unevoyante.fr/index.php/Client_controller/notes_reponse_agent',
                type: 'POST',
                data: { id_agent: id_agent, id_voyant: id_voyant, id_client: id_client, reponse_agent_note: reponse_agent_note, avis: avis },
                success: function (response) {

                },
                error: function () {

                }
            });
        }

        function thumb_down(id_agent, id_voyant, id_client, reponse_agent_note) {
            //alert(id_agent+'--'+id_voyant+'--'+id_client+'---'+reponse_agent_note);

            $('.thumbs-box').remove();
            var avis = "thumb_down";
            $.ajax({
                url: 'https://www.unevoyante.fr/index.php/Client_controller/notes_reponse_agent',
                type: 'POST',
                data: { id_agent: id_agent, id_voyant: id_voyant, id_client: id_client, reponse_agent_note: reponse_agent_note, avis: avis },
                success: function (response) {

                },
                error: function () {

                }
            });
        }


        $(document).on('click', '#last_message_thumb_up', function () {
            console.log(this.dataset.id_agent);
            var id_agent = this.dataset.id_agent;
            var id_voyant = this.dataset.id_voyant;
            var id_client = this.dataset.id_client;
            var contenu = this.dataset.contenu;

            thumb_up(id_agent, id_voyant, id_client, contenu);

        });

        document.body.addEventListener("click", function (evt) {
            if (evt.target.id != "fas-bar-menu-unevoyante") {
                $('#menuforce').hide();
            }
        });

        $(document).on('click', '#last_message_thumb_down', function () {
            console.log(this.dataset.id_agent);
            var id_agent = this.dataset.id_agent;
            var id_voyant = this.dataset.id_voyant;
            var id_client = this.dataset.id_client;
            var contenu = this.dataset.contenu;

            thumb_down(id_agent, id_voyant, id_client, contenu);

        });

    </script>





    <!-- SCRIPTS -->
    <script src="https://www.unevoyante.fr/assets/client/js/jquery.min.js"></script>
    <script src="https://www.unevoyante.fr/assets/client/js/bootstrap.bundle.min.js"></script>

    <script type="text/javascript">
        function getBrowserName() {
            let extraction = navigator.userAgent.split(')').reverse()[0].match(/(?!Gecko|Version|[A-Za-z]+?Web[Kk]it)[A-Z][a-z]+\/[\d.]+/g)[0].split('/');

            return {
                name: extraction[0],
                version: extraction[1]
            }
        }

        let accepteBrowsersArray = ['Firefox', 'Chrome', 'Safari', 'Chromium', 'Edge', 'Opera'];
        if (accepteBrowsersArray.includes(getBrowserName().name)) {
            console.log(getBrowserName().name);
        } else {
            console.log(" not detected browsers");
        }

        $('.bloc-fails').delay(1500).animate({
            visibility: "hidden"
        }, 2000, "swing", function () {
            $(this).remove();
        });
        $('.bloc-fails-long').delay(1500).animate({
            visibility: "hidden"
        }, 9000, "swing", function () {
            $(this).remove();
        });

        $('.bloc-fails-too-long').delay(1500).animate({
            visibility: "hidden"
        }, 120000, "swing", function () {
            $(this).remove();
        });

        $('#creditModal').focusout(function () {
            //alert('out');
        });

        function show_modal() {
            $('#button_creditModal').trigger('click');
        }



    </script>

    <script type="text/javascript">
        function offre_p1() {
            if ("A4-25f24677-10ef-428b-9cd1-56fb4abf073e" == "0") {
                window.location.href = "https://www.unevoyante.fr/index.php/Client_controller/offre_p1";
            } else {
                $('#button_creditModal1').trigger("click");
            }

        }
    </script>







    <script type="text/javascript">
        // script pour le nouveau menu 

        $('.dropdown-menu a.dropdown-toggle').on('click', function (e) {

            if (!$(this).next().hasClass('show')) {
                $(this).parents('.dropdown-menu').first().find('.show').removeClass("show");
            }
            var $subMenu = $(this).next(".dropdown-menu");
            var $dropdownSubMenu = $(this).parent(".dropdown-submenu");
            var $subMenuIcon = $(".dropdown-menu");
            $subMenu.toggleClass('show');
            $dropdownSubMenu.toggleClass('toogle-plus-less');

            $(this).parents('li.nav-item.dropdown.show').on('hidden.bs.dropdown', function (e) {
                $('.dropdown-submenu .show').removeClass("show");
                $dropdownSubMenu.removeClass('toogle-plus-less');
            });

            return false;
        });




        function hide_flashy() {
            $('#flashy-transaction').delay(12000).animate({
                marginRight: "-100%"
            }, 300, "swing", function () {
                $(this).remove();
            });
            $('#flashy-transaction-error').delay(12000).animate({
                marginRight: "-100%"
            }, 300, "swing", function () {
                $(this).remove();
            });
        }
        hide_flashy();
    </script>


</body>

</html>